/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
*/ let t="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,e=(te,ts,ti=null)=>{for(;ts!==ti;){let tr=ts.nextSibling;te.removeChild(ts),ts=tr}},s=`{{lit-${String(Math.random()).slice(2)}}}`,i=`<!--${s}-->`,n=RegExp(`${s}|${i}`);class r{constructor(te,ts){this.parts=[],this.element=ts;let ti=[],tr=[],tn=document.createTreeWalker(ts.content,133,null,!1),ta=0,to=-1,tl=0,{strings:th,values:{length:td}}=te;for(;tl<td;){let tp=tn.nextNode();if(null!==tp){if(to++,1===tp.nodeType){if(tp.hasAttributes()){let tu=tp.attributes,{length:tc}=tu,tf=0;for(let tm=0;tm<tc;tm++)o(tu[tm].name,"$lit$")&&tf++;for(;tf-- >0;){let tg=th[tl],ty=d.exec(tg)[2],t8=ty.toLowerCase()+"$lit$",tv=tp.getAttribute(t8);tp.removeAttribute(t8);let t$=tv.split(n);this.parts.push({type:"attribute",index:to,name:ty,strings:t$}),tl+=t$.length-1}}"TEMPLATE"===tp.tagName&&(tr.push(tp),tn.currentNode=tp.content)}else if(3===tp.nodeType){let tS=tp.data;if(tS.indexOf(s)>=0){let tw=tp.parentNode,tx=tS.split(n),tb=tx.length-1;for(let t_=0;t_<tb;t_++){let tP,tT=tx[t_];if(""===tT)tP=l();else{let tN=d.exec(tT);null!==tN&&o(tN[2],"$lit$")&&(tT=tT.slice(0,tN.index)+tN[1]+tN[2].slice(0,-5)+tN[3]),tP=document.createTextNode(tT)}tw.insertBefore(tP,tp),this.parts.push({type:"node",index:++to})}""===tx[tb]?(tw.insertBefore(l(),tp),ti.push(tp)):tp.data=tx[tb],tl+=tb}}else if(8===tp.nodeType){if(tp.data===s){let tC=tp.parentNode;null!==tp.previousSibling&&to!==ta||(to++,tC.insertBefore(l(),tp)),ta=to,this.parts.push({type:"node",index:to}),null===tp.nextSibling?tp.data="":(ti.push(tp),to--),tl++}else{let tE=-1;for(;-1!==(tE=tp.data.indexOf(s,tE+1));)this.parts.push({type:"node",index:-1}),tl++}}}else tn.currentNode=tr.pop()}for(let tA of ti)tA.parentNode.removeChild(tA)}}let o=(te,ts)=>{let ti=te.length-ts.length;return ti>=0&&te.slice(ti)===ts},a=te=>-1!==te.index,l=()=>document.createComment(""),d=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function h(te,ts){let{element:{content:ti},parts:tr}=te,tn=document.createTreeWalker(ti,133,null,!1),ta=c(tr),to=tr[ta],tl=-1,th=0,td=[],tp=null;for(;tn.nextNode();){tl++;let tu=tn.currentNode;for(tu.previousSibling===tp&&(tp=null),ts.has(tu)&&(td.push(tu),null===tp&&(tp=tu)),null!==tp&&th++;void 0!==to&&to.index===tl;)to.index=null!==tp?-1:to.index-th,to=tr[ta=c(tr,ta)]}td.forEach(te=>te.parentNode.removeChild(te))}let p=te=>{let ts=11===te.nodeType?0:1,ti=document.createTreeWalker(te,133,null,!1);for(;ti.nextNode();)ts++;return ts},c=(te,ts=-1)=>{for(let ti=ts+1;ti<te.length;ti++){let tr=te[ti];if(a(tr))return ti}return -1},u=new WeakMap,f=te=>"function"==typeof te&&u.has(te),m={},g={};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ class y{constructor(te,ts,ti){this.__parts=[],this.template=te,this.processor=ts,this.options=ti}update(te){let ts=0;for(let ti of this.__parts)void 0!==ti&&ti.setValue(te[ts]),ts++;for(let tr of this.__parts)void 0!==tr&&tr.commit()}_clone(){let te=t?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),ts=[],ti=this.template.parts,tr=document.createTreeWalker(te,133,null,!1),tn,ta=0,to=0,tl=tr.nextNode();for(;ta<ti.length;)if(a(tn=ti[ta])){for(;to<tn.index;)to++,"TEMPLATE"===tl.nodeName&&(ts.push(tl),tr.currentNode=tl.content),null===(tl=tr.nextNode())&&(tr.currentNode=ts.pop(),tl=tr.nextNode());if("node"===tn.type){let th=this.processor.handleTextExpression(this.options);th.insertAfterNode(tl.previousSibling),this.__parts.push(th)}else this.__parts.push(...this.processor.handleAttributeExpressions(tl,tn.name,tn.strings,this.options));ta++}else this.__parts.push(void 0),ta++;return t&&(document.adoptNode(te),customElements.upgrade(te)),te}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ let _=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:te=>te}),v=` ${s} `;class w{constructor(te,ts,ti,tr){this.strings=te,this.values=ts,this.type=ti,this.processor=tr}getHTML(){let te=this.strings.length-1,ts="",ti=!1;for(let tr=0;tr<te;tr++){let tn=this.strings[tr],ta=tn.lastIndexOf("<!--");ti=(ta>-1||ti)&&-1===tn.indexOf("-->",ta+1);let to=d.exec(tn);ts+=null===to?tn+(ti?v:i):tn.substr(0,to.index)+to[1]+to[2]+"$lit$"+to[3]+s}return ts+this.strings[te]}getTemplateElement(){let te=document.createElement("template"),ts=this.getHTML();return void 0!==_&&(ts=_.createHTML(ts)),te.innerHTML=ts,te}}/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ let S=te=>null===te||!("object"==typeof te||"function"==typeof te),b=te=>Array.isArray(te)||!(!te||!te[Symbol.iterator]);class x{constructor(te,ts,ti){this.dirty=!0,this.element=te,this.name=ts,this.strings=ti,this.parts=[];for(let tr=0;tr<ti.length-1;tr++)this.parts[tr]=this._createPart()}_createPart(){return new P(this)}_getValue(){let te=this.strings,ts=te.length-1,ti=this.parts;if(1===ts&&""===te[0]&&""===te[1]){let tr=ti[0].value;if("symbol"==typeof tr)return String(tr);if("string"==typeof tr||!b(tr))return tr}let tn="";for(let ta=0;ta<ts;ta++){tn+=te[ta];let to=ti[ta];if(void 0!==to){let tl=to.value;if(S(tl)||!b(tl))tn+="string"==typeof tl?tl:String(tl);else for(let th of tl)tn+="string"==typeof th?th:String(th)}}return tn+te[ts]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class P{constructor(te){this.value=void 0,this.committer=te}setValue(te){te===m||S(te)&&te===this.value||(this.value=te,f(te)||(this.committer.dirty=!0))}commit(){for(;f(this.value);){let te=this.value;this.value=m,te(this)}this.value!==m&&this.committer.commit()}}class T{constructor(te){this.value=void 0,this.__pendingValue=void 0,this.options=te}appendInto(te){this.startNode=te.appendChild(l()),this.endNode=te.appendChild(l())}insertAfterNode(te){this.startNode=te,this.endNode=te.nextSibling}appendIntoPart(te){te.__insert(this.startNode=l()),te.__insert(this.endNode=l())}insertAfterPart(te){te.__insert(this.startNode=l()),this.endNode=te.endNode,te.endNode=this.startNode}setValue(te){this.__pendingValue=te}commit(){if(null===this.startNode.parentNode)return;for(;f(this.__pendingValue);){let te=this.__pendingValue;this.__pendingValue=m,te(this)}let ts=this.__pendingValue;ts!==m&&(S(ts)?ts!==this.value&&this.__commitText(ts):ts instanceof w?this.__commitTemplateResult(ts):ts instanceof Node?this.__commitNode(ts):b(ts)?this.__commitIterable(ts):ts===g?(this.value=g,this.clear()):this.__commitText(ts))}__insert(te){this.endNode.parentNode.insertBefore(te,this.endNode)}__commitNode(te){this.value!==te&&(this.clear(),this.__insert(te),this.value=te)}__commitText(te){let ts=this.startNode.nextSibling,ti="string"==typeof(te=null==te?"":te)?te:String(te);ts===this.endNode.previousSibling&&3===ts.nodeType?ts.data=ti:this.__commitNode(document.createTextNode(ti)),this.value=te}__commitTemplateResult(te){let ts=this.options.templateFactory(te);if(this.value instanceof y&&this.value.template===ts)this.value.update(te.values);else{let ti=new y(ts,te.processor,this.options),tr=ti._clone();ti.update(te.values),this.__commitNode(tr),this.value=ti}}__commitIterable(te){Array.isArray(this.value)||(this.value=[],this.clear());let ts=this.value,ti,tr=0;for(let tn of te)void 0===(ti=ts[tr])&&(ti=new T(this.options),ts.push(ti),0===tr?ti.appendIntoPart(this):ti.insertAfterPart(ts[tr-1])),ti.setValue(tn),ti.commit(),tr++;tr<ts.length&&(ts.length=tr,this.clear(ti&&ti.endNode))}clear(te=this.startNode){e(this.startNode.parentNode,te.nextSibling,this.endNode)}}class N{constructor(te,ts,ti){if(this.value=void 0,this.__pendingValue=void 0,2!==ti.length||""!==ti[0]||""!==ti[1])throw Error("Boolean attributes can only contain a single expression");this.element=te,this.name=ts,this.strings=ti}setValue(te){this.__pendingValue=te}commit(){for(;f(this.__pendingValue);){let te=this.__pendingValue;this.__pendingValue=m,te(this)}if(this.__pendingValue===m)return;let ts=!!this.__pendingValue;this.value!==ts&&(ts?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=ts),this.__pendingValue=m}}class C extends x{constructor(te,ts,ti){super(te,ts,ti),this.single=2===ti.length&&""===ti[0]&&""===ti[1]}_createPart(){return new E(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class E extends P{}let A=!1;(()=>{try{let te={get capture(){return A=!0,!1}};window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch(ts){}})();class k{constructor(te,ts,ti){this.value=void 0,this.__pendingValue=void 0,this.element=te,this.eventName=ts,this.eventContext=ti,this.__boundHandleEvent=te=>this.handleEvent(te)}setValue(te){this.__pendingValue=te}commit(){for(;f(this.__pendingValue);){let te=this.__pendingValue;this.__pendingValue=m,te(this)}if(this.__pendingValue===m)return;let ts=this.__pendingValue,ti=this.value,tr=null==ts||null!=ti&&(ts.capture!==ti.capture||ts.once!==ti.once||ts.passive!==ti.passive);tr&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),null!=ts&&(null==ti||tr)&&(this.__options=U(ts),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=ts,this.__pendingValue=m}handleEvent(te){"function"==typeof this.value?this.value.call(this.eventContext||this.element,te):this.value.handleEvent(te)}}let U=te=>te&&(A?{capture:te.capture,passive:te.passive,once:te.once}:te.capture) /**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ ;function O(te){let ts=V.get(te.type);void 0===ts&&(ts={stringsArray:new WeakMap,keyString:new Map},V.set(te.type,ts));let ti=ts.stringsArray.get(te.strings);if(void 0!==ti)return ti;let tr=te.strings.join(s);return void 0===(ti=ts.keyString.get(tr))&&(ti=new r(te,te.getTemplateElement()),ts.keyString.set(tr,ti)),ts.stringsArray.set(te.strings,ti),ti}let V=new Map,R=new WeakMap,M=new /**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ class{handleAttributeExpressions(te,ts,ti,tr){let tn=ts[0];return"."===tn?new C(te,ts.slice(1),ti).parts:"@"===tn?[new k(te,ts.slice(1),tr.eventContext)]:"?"===tn?[new N(te,ts.slice(1),ti)]:new x(te,ts,ti).parts}handleTextExpression(te){return new T(te)}};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ "undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");let B=(te,...ts)=>new w(te,ts,"html",M),$=(te,ts)=>`${te}--${ts}`,j=!0;void 0===window.ShadyCSS?j=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),j=!1);let I=te=>ts=>{let ti=$(ts.type,te),tr=V.get(ti);void 0===tr&&(tr={stringsArray:new WeakMap,keyString:new Map},V.set(ti,tr));let tn=tr.stringsArray.get(ts.strings);if(void 0!==tn)return tn;let ta=ts.strings.join(s);if(void 0===(tn=tr.keyString.get(ta))){let to=ts.getTemplateElement();j&&window.ShadyCSS.prepareTemplateDom(to,te),tn=new r(ts,to),tr.keyString.set(ta,tn)}return tr.stringsArray.set(ts.strings,tn),tn},q=["html","svg"],z=new Set,F=(te,ts,ti)=>{var tr;z.add(te);let tn=ti?ti.element:document.createElement("template"),ta=ts.querySelectorAll("style"),{length:to}=ta;if(0===to)return void window.ShadyCSS.prepareTemplateStyles(tn,te);let tl=document.createElement("style");for(let th=0;th<to;th++){let td=ta[th];td.parentNode.removeChild(td),tl.textContent+=td.textContent}tr=te,q.forEach(te=>{let ts=V.get($(te,tr));void 0!==ts&&ts.keyString.forEach(te=>{let{element:{content:ts}}=te,ti=new Set;Array.from(ts.querySelectorAll("style")).forEach(te=>{ti.add(te)}),h(te,ti)})});let tp=tn.content;ti?function(te,ts,ti=null){let{element:{content:tr},parts:tn}=te;if(null==ti)return void tr.appendChild(ts);let ta=document.createTreeWalker(tr,133,null,!1),to=c(tn),tl=0,th=-1;for(;ta.nextNode();)for(th++,ta.currentNode===ti&&(tl=p(ts),ti.parentNode.insertBefore(ts,ti));-1!==to&&tn[to].index===th;){if(tl>0){for(;-1!==to;)tn[to].index+=tl,to=c(tn,to);return}to=c(tn,to)}}(ti,tl,tp.firstChild):tp.insertBefore(tl,tp.firstChild),window.ShadyCSS.prepareTemplateStyles(tn,te);let tu=tp.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==tu)ts.insertBefore(tu.cloneNode(!0),ts.firstChild);else if(ti){tp.insertBefore(tl,tp.firstChild);let tc=new Set;tc.add(tl),h(ti,tc)}};window.JSCompiler_renameProperty=(te,ts)=>te;let L={toAttribute(te,ts){switch(ts){case Boolean:return te?"":null;case Object:case Array:return null==te?te:JSON.stringify(te)}return te},fromAttribute(te,ts){switch(ts){case Boolean:return null!==te;case Number:return null===te?null:Number(te);case Object:case Array:return JSON.parse(te)}return te}},W=(te,ts)=>ts!==te&&(ts==ts||te==te),H={attribute:!0,type:String,converter:L,reflect:!1,hasChanged:W};class D extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();let te=[];return this._classProperties.forEach((ts,ti)=>{let tr=this._attributeNameForProperty(ti,ts);void 0!==tr&&(this._attributeToPropertyMap.set(tr,ti),te.push(tr))}),te}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let te=Object.getPrototypeOf(this)._classProperties;void 0!==te&&te.forEach((te,ts)=>this._classProperties.set(ts,te))}}static createProperty(te,ts=H){if(this._ensureClassProperties(),this._classProperties.set(te,ts),ts.noAccessor||this.prototype.hasOwnProperty(te))return;let ti="symbol"==typeof te?Symbol():`__${te}`,tr=this.getPropertyDescriptor(te,ti,ts);void 0!==tr&&Object.defineProperty(this.prototype,te,tr)}static getPropertyDescriptor(te,ts,ti){return{get(){return this[ts]},set(tr){let tn=this[te];this[ts]=tr,this.requestUpdateInternal(te,tn,ti)},configurable:!0,enumerable:!0}}static getPropertyOptions(te){return this._classProperties&&this._classProperties.get(te)||H}static finalize(){let te=Object.getPrototypeOf(this);if(te.hasOwnProperty("finalized")||te.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){let ts=this.properties,ti=[...Object.getOwnPropertyNames(ts),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(ts):[]];for(let tr of ti)this.createProperty(tr,ts[tr])}}static _attributeNameForProperty(te,ts){let ti=ts.attribute;return!1===ti?void 0:"string"==typeof ti?ti:"string"==typeof te?te.toLowerCase():void 0}static _valueHasChanged(te,ts,ti=W){return ti(te,ts)}static _propertyValueFromAttribute(te,ts){let ti=ts.type,tr=ts.converter||L,tn="function"==typeof tr?tr:tr.fromAttribute;return tn?tn(te,ti):te}static _propertyValueToAttribute(te,ts){if(void 0===ts.reflect)return;let ti=ts.type,tr=ts.converter;return(tr&&tr.toAttribute||L.toAttribute)(te,ti)}initialize(){this._updateState=0,this._updatePromise=new Promise(te=>this._enableUpdatingResolver=te),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((te,ts)=>{if(this.hasOwnProperty(ts)){let ti=this[ts];delete this[ts],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(ts,ti)}})}_applyInstanceProperties(){this._instanceProperties.forEach((te,ts)=>this[ts]=te),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(te,ts,ti){ts!==ti&&this._attributeToProperty(te,ti)}_propertyToAttribute(te,ts,ti=H){let tr=this.constructor,tn=tr._attributeNameForProperty(te,ti);if(void 0!==tn){let ta=tr._propertyValueToAttribute(ts,ti);if(void 0===ta)return;this._updateState=8|this._updateState,null==ta?this.removeAttribute(tn):this.setAttribute(tn,ta),this._updateState=-9&this._updateState}}_attributeToProperty(te,ts){if(8&this._updateState)return;let ti=this.constructor,tr=ti._attributeToPropertyMap.get(te);if(void 0!==tr){let tn=ti.getPropertyOptions(tr);this._updateState=16|this._updateState,this[tr]=ti._propertyValueFromAttribute(ts,tn),this._updateState=-17&this._updateState}}requestUpdateInternal(te,ts,ti){let tr=!0;if(void 0!==te){let tn=this.constructor;ti=ti||tn.getPropertyOptions(te),tn._valueHasChanged(this[te],ts,ti.hasChanged)?(this._changedProperties.has(te)||this._changedProperties.set(te,ts),!0!==ti.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(te,ti))):tr=!1}!this._hasRequestedUpdate&&tr&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(te,ts){return this.requestUpdateInternal(te,ts),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(te){}let ts=this.performUpdate();return null!=ts&&await ts,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let te=!1,ts=this._changedProperties;try{(te=this.shouldUpdate(ts))?this.update(ts):this._markUpdated()}catch(ti){throw te=!1,this._markUpdated(),ti}te&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(ts)),this.updated(ts))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(te){return!0}update(te){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((te,ts)=>this._propertyToAttribute(ts,this[ts],te)),this._reflectingProperties=void 0),this._markUpdated()}updated(te){}firstUpdated(te){}}D.finalized=!0;/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ let J=(te,ts)=>"method"!==ts.kind||!ts.descriptor||"value"in ts.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof ts.initializer&&(this[ts.key]=ts.initializer.call(this))},finisher(ti){ti.createProperty(ts.key,te)}}:Object.assign(Object.assign({},ts),{finisher(ti){ti.createProperty(ts.key,te)}});function G(te){return(ts,ti)=>void 0!==ti?((te,ts,ti)=>{ts.constructor.createProperty(ti,te)})(te,ts,ti):J(te,ts)}/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/ let K=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Y=Symbol();class Z{constructor(te,ts){if(ts!==Y)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=te}get styleSheet(){return void 0===this._styleSheet&&(K?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}let Q=(te,...ts)=>{let ti=ts.reduce((ts,ti,tr)=>ts+(te=>{if(te instanceof Z)return te.cssText;if("number"==typeof te)return te;throw Error(`Value passed to 'css' function must be a 'css' function result: ${te}. Use 'unsafeCSS' to pass non-literal values, but
           take care to ensure page security.`)})(ti)+te[tr+1],te[0]);return new Z(ti,Y)};/**
* @license
* Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
* This code may only be used under the BSD style license found at
* http://polymer.github.io/LICENSE.txt
* The complete set of authors may be found at
* http://polymer.github.io/AUTHORS.txt
* The complete set of contributors may be found at
* http://polymer.github.io/CONTRIBUTORS.txt
* Code distributed by Google as part of the polymer project is also
* subject to an additional IP rights grant found at
* http://polymer.github.io/PATENTS.txt
*/ (window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");let X={};class tt extends D{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;let te=this.getStyles();if(Array.isArray(te)){let ts=(te,ti)=>te.reduceRight((te,ti)=>Array.isArray(ti)?ts(ti,te):(te.add(ti),te),ti),ti=ts(te,new Set),tr=[];ti.forEach(te=>tr.unshift(te)),this._styles=tr}else this._styles=void 0===te?[]:[te];this._styles=this._styles.map(te=>{if(te instanceof CSSStyleSheet&&!K){let ts=Array.prototype.slice.call(te.cssRules).reduce((te,ts)=>te+ts.cssText,"");return new Z(String(ts),Y)}return te})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){let te=this.constructor._styles;0!==te.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?K?this.renderRoot.adoptedStyleSheets=te.map(te=>te instanceof CSSStyleSheet?te:te.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(te.map(te=>te.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(te){let ts=this.render();super.update(te),ts!==X&&this.constructor.render(ts,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(te=>{let ts=document.createElement("style");ts.textContent=te.cssText,this.renderRoot.appendChild(ts)}))}render(){return X}}tt.finalized=!0,tt.render=(te,ts,ti)=>{if(!ti||"object"!=typeof ti||!ti.scopeName)throw Error("The `scopeName` option is required.");let tr=ti.scopeName,tn=R.has(ts),ta=j&&11===ts.nodeType&&!!ts.host,to=ta&&!z.has(tr),tl=to?document.createDocumentFragment():ts;if(((te,ts,ti)=>{let tr=R.get(ts);void 0===tr&&(e(ts,ts.firstChild),R.set(ts,tr=new T(Object.assign({templateFactory:O},ti))),tr.appendInto(ts)),tr.setValue(te),tr.commit()})(te,tl,Object.assign({templateFactory:I(tr)},ti)),to){let th=R.get(tl);R.delete(tl);let td=th.value instanceof y?th.value.template:void 0;F(tr,tl,td),e(ts,ts.firstChild),ts.appendChild(tl),R.set(ts,th)}!tn&&ta&&window.ShadyCSS.styleElement(ts.host)},tt.shadowRootOptions={mode:"open"};var it,et=function(te,ts,ti,tr){var tn,ta=arguments.length,to=ta<3?ts:null===tr?tr=Object.getOwnPropertyDescriptor(ts,ti):tr;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)to=Reflect.decorate(te,ts,ti,tr);else for(var tl=te.length-1;tl>=0;tl--)(tn=te[tl])&&(to=(ta<3?tn(to):ta>3?tn(ts,ti,to):tn(ts,ti))||to);return ta>3&&to&&Object.defineProperty(ts,ti,to),to};let st=class extends tt{constructor(){super(...arguments);let te=window.location.href.split("/"),ts=te.length>4?te.slice(3).join("/"):"";this.swpath=`/${ts}/pwabuilder-sw.js`,this.updateevent="SKIP_WAITING",this.updatemessage="An update for this app is available",this.readyToAsk=!1,this.showStorageEstimate=!1,this.showOfflineToast=!1,this.offlineToastDuration=2400,this.storageUsed=null}static get styles(){return Q`:host{font-family:sans-serif;--toast-background:#3c3c3c;--button-background:#0b0b0b}#updateToast{position:fixed;bottom:16px;right:16px;background:var(--toast-background);color:#fff;padding:1em;border-radius:4px;display:flex;align-items:center;justify-content:space-between;min-width:22em;max-width:calc(100vw - 16px);font-weight:600;animation-name:fadein;animation-duration:.3s}#storageToast{position:fixed;bottom:16px;right:16px;background:var(--toast-background);color:#fff;padding:1em;border-radius:4px;display:flex;max-width:calc(100vw - 16px);flex-direction:column;align-items:flex-end;font-weight:600}#storageEstimate{font-size:10px;margin-top:8px}#updateToast button{color:#fff;border:none;background:var(--button-background);padding:8px;border-radius:24px;text-transform:lowercase;padding-left:14px;padding-right:14px;font-weight:700}@keyframes fadein{from{opacity:0}to{opacity:1}}`}async firstUpdated(){var te,ts;if(this.swpath&&"serviceWorker"in navigator){let ti=await navigator.serviceWorker.register(this.swpath);if(ti.installing&&navigator.storage){let tr=await navigator.storage.estimate();if(tr){this.storageUsed=this.formatBytes(tr.usage),this.showOfflineToast=!0,await this.updateComplete;let tn=null===(ts=null===(te=this.shadowRoot)||void 0===te?void 0:te.querySelector("#storageToast"))||void 0===ts?void 0:ts.animate([{opacity:0},{opacity:1}],{fill:"forwards",duration:280});tn&&setTimeout(async()=>{tn.onfinish=()=>{this.showOfflineToast=!1},await tn.reverse()},this.offlineToastDuration)}}ti.onupdatefound=async()=>{let te=ti.installing;te&&(te.onstatechange=()=>{"installed"===(null==te?void 0:te.state)&&this.dispatchEvent(new Event("pwaUpdate"))})}}this.setupEvents()}setupEvents(){this.addEventListener("pwaUpdate",async()=>{navigator.serviceWorker&&(this.swreg=await navigator.serviceWorker.getRegistration(),this.swreg&&this.swreg.waiting&&(this.readyToAsk=!0))})}doUpdate(){var te,ts;null===(ts=null===(te=this.swreg)||void 0===te?void 0:te.waiting)||void 0===ts||ts.postMessage({type:this.updateevent}),window.location.reload()}formatBytes(te,ts=2){if(0===te)return"0 Bytes";let ti=Math.floor(Math.log(te)/Math.log(1024));return parseFloat((te/Math.pow(1024,ti)).toFixed(ts<0?0:ts))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][ti]}render(){return B`<div>${this.readyToAsk?B`<div id="updateToast" part="updateToast"><span>${this.updatemessage}</span> <button @click="${()=>this.doUpdate()}">Update</button></div>`:null} ${this.showOfflineToast?B`<div id="storageToast" part="offlineToast">Ready to use Offline ${this.showStorageEstimate?B`<span id="storageEstimate">Cached ${this.storageUsed}</span>`:null}</div>`:null}</div>`}};et([G({type:String})],st.prototype,"swpath",void 0),et([G({type:String})],st.prototype,"updateevent",void 0),et([G({type:String})],st.prototype,"updatemessage",void 0),et([G({type:Boolean})],st.prototype,"readyToAsk",void 0),et([G({type:Boolean})],st.prototype,"showStorageEstimate",void 0),et([G({type:Boolean})],st.prototype,"showOfflineToast",void 0),et([G({type:Number})],st.prototype,"offlineToastDuration",void 0),et([G({type:String})],st.prototype,"storageUsed",void 0),st=et([(it="pwa-update",te=>{var ts,ti;return"function"==typeof te?(ts=it,ti=te,window.customElements.define(ts,ti),ti):((te,ts)=>{let{kind:ti,elements:tr}=ts;return{kind:ti,elements:tr,finisher(ts){window.customElements.define(te,ts)}}})(it,te)})],st);export{st as pwaupdate};
