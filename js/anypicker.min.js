(function(){"use strict";function t(a,i){var n=this;n.elem=a;var o=i.lang!==void 0||null!==i.lang?i.lang:$.CalenStyle.defaults.lang,s=$.extend(!0,{},$.AnyPicker.defaults.i18n,$.AnyPicker.i18n[o],i.i18n),r=$.extend(!0,{},$.AnyPicker.defaults);s={i18n:s},r.i18n={},i.i18n={},n.setting=$.extend({},r,i,s),n.tmp=$.extend({},$.AnyPicker.tempDefaults),n.tmp.overlayClass="ap-overlay-"+n.setting.timestamp,n.tmp.overlaySelector="."+n.tmp.overlayClass,n.tmp.sOrientation=n._getDeviceOrientation(),$.CF.isValid(i.headerTitle)&&(n.tmp.headerTitleDefined=!0),$.CF.compareStrings(n.setting.theme,"Android")?(!$.CF.isValid(i.rowHeight)&&(n.setting.rowHeight=50),!$.CF.isValid(i.visibleRows)&&(n.setting.visibleRows=3)):$.CF.compareStrings(n.setting.theme,"iOS")?(!$.CF.isValid(i.rowHeight)&&(n.setting.rowHeight=36),!$.CF.isValid(i.visibleRows)&&(n.setting.visibleRows=5),!$.CF.isValid(i.viewSections)&&($.CF.compareStrings(n.setting.layout,"fixed")?n.setting.viewSections={header:[],contentTop:[],contentBottom:[],footer:["cancelButton","headerTitle","setButton"]}:n.setting.viewSections={header:["cancelButton","headerTitle","setButton"],contentTop:[],contentBottom:[],footer:[]}),$.AnyPicker.extra.bIsiPad&&(n.tmp.bIsiPad=!0),n.tmp.bIsiPad&&$.CF.compareStrings(n.setting.layout,"popup")&&(n.setting.layout="popover")):$.CF.compareStrings(n.setting.theme,"Windows")&&(n.setting.layout="popup",n.setting.visibleRows=5,n.setting.rowHeight=100,!$.CF.isValid(i.viewSections)&&(n.setting.viewSections={header:["headerTitle"],contentTop:[],contentBottom:[],footer:["setButton","cancelButton"]}),$.CF.isValid(i.setButton)&&(n.tmp.bModified.set=!0),$.CF.isValid(i.cancelButton)&&(n.tmp.bModified.cancel=!0),$.CF.isValid(i.nowButton)&&(n.tmp.bModified.now=!0),$.CF.isValid(i.clearButton)&&(n.tmp.bModified.clear=!0)),n.tmp.iExt=Math.floor(n.setting.visibleRows/2),n.tmp.sDir=n.setting.rtl?"rtl":"ltr",$.AnyPicker.extra.dToday=n._getCurrentDate(),null===n.tmp.selectedDate&&(n.tmp.selectedDate=$.AnyPicker.extra.dToday),0===n.setting.maxYear&&(n.setting.maxYear=$.AnyPicker.extra.dToday.getFullYear()),$.CF.isValid(n.setting.components)&&0===n.tmp.numOfComp&&(n.tmp.numOfComp=n.setting.components.length),$.AnyPicker.extra.sStartEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerDown":"pointerdown":$.AnyPicker.extra.bIsTouchDevice?"touchstart":"mousedown touchstart",$.AnyPicker.extra.sMoveEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerMove":"pointermove":$.AnyPicker.extra.bIsTouchDevice?"touchmove":"mousemove touchmove",$.AnyPicker.extra.sEndEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerUp":"pointerup":$.AnyPicker.extra.bIsTouchDevice?"touchend":"mouseup touchend",$.AnyPicker.extra.sLeaveEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerLeave":"pointerleave":$.AnyPicker.extra.bIsTouchDevice?null:"mouseleave",$.AnyPicker.extra.sCancelEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerCancel":"pointercancel":null,$.AnyPicker.extra.sOutEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerOut":"pointerout":null}$.CF={setPropertiesStyle:function(a,i){var n=window.getComputedStyle(document.documentElement,"");for(var o in i)if(void 0!==n[i[o]]){var s="";return-1===i[o].search("Webkit")?-1===i[o].search("Moz")?-1===i[o].search("O")?-1!==i[o].search("ms")&&(s="-ms-"):s="-o-":s="-moz-":s="-webkit-",s+a}},testProperties:function(a,i,n){var o=window.getComputedStyle(document.documentElement,"");for(var s in i)if(o[i[s]]!==void 0)return!n||i[s];return!!n&&""},compareDataType:function(a,i){return!(typeof a!==i.toLocaleLowerCase())},compareStrings:function(a,i){this;return null!==a&&void 0!==a&&null!==i&&void 0!==i?"string"==typeof a&&"string"==typeof i&&a.toLocaleLowerCase()===i.toLocaleLowerCase():null===a&&null===i||void 0===a&&void 0===i},isValid:function(a){return void 0!==a&&null!==a&&""!==a}},$.AnyPicker=$.AnyPicker||{name:"AnyPicker",version:"2.0.3",i18n:{},defaults:{mode:"datetime",parent:"body",layout:"popup",hAlign:"left",vAlign:"bottom",relativeTo:null,inputElement:null,inputChangeEvent:"onSet",lang:"",rtl:!1,animationDuration:500,setButton:{markup:"<a id='ap-button-set' class='ap-button'>Set</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-set'></span><span class='ap-button-text'>set</span>",type:"Button"},clearButton:{markup:"<a id='ap-button-clear' class='ap-button'>Clear</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-clear'></span><span class='ap-button-text'>clear</span>",type:"Button"},nowButton:{markup:"<a id='ap-button-now' class='ap-button'>Now</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-now'></span><span class='ap-button-text'>now</span>",type:"Button"},cancelButton:{markup:"<a id='ap-button-cancel' class='ap-button'>Cancel</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-cancel'></span><span class='ap-button-text'>cancel</span>",type:"Button"},headerTitle:{markup:"<span class='ap-header__title'>Select</span>",type:"Text",contentBehaviour:"Static",format:""},viewSections:{header:["headerTitle"],contentTop:[],contentBottom:[],footer:["cancelButton","setButton"]},i18n:{headerTitle:"Select",setButton:"Set",clearButton:"Clear",nowButton:"Now",cancelButton:"Cancel",dateSwitch:"Date",timeSwitch:"Time"},theme:"Default",onInit:null,onBeforeShowPicker:null,onShowPicker:null,onBeforeHidePicker:null,onHidePicker:null,parseInput:null,formatOutput:null,setOutput:null,onSetOutput:null,buttonClicked:null},tempDefaults:{sOrientation:"portrait",overlayClass:"",overlaySelector:"",iExt:2,dir:"ltr",sElemTag:"",oElemValid:{bIsInput:!1,bIsListItem:!1,bIsSelect:!1},sInputElemTag:"",oInputElemValid:{bIsInput:!1,bIsListItem:!1,bIsSelect:!1},prevActive:null,bFirst:!0,sDateTimeTab:"date",iCompDragStart:0,headerTitleDefined:!1,bIsiPad:!1,bModified:{set:!1,cancel:!1,clear:!1,now:!1},tabKey:!1},extra:{sArrModes:["select","datetime"],sArrLayout:["popup","relative","fixed","inline"],sArrHAlign:["left","center","right"],sArrVAlign:["top","middle","bottom"],sArrViewSections:["header","contentTop","contentBottom","footer"],oArrInputChangeEvent:["onChange","onSet"],sArrThemes:["Default","iOS","Android","Windows"],bIsTouchDevice:"ontouchstart"in document.documentElement,sClickHandler:"ontouchstart"in document.documentElement?"click":"click",sClickHandlerButtons:"ontouchstart"in document.documentElement?"touchstart":"click",bHasCSS3D:$.CF.testProperties("perspective",["WebkitPerspective","MozPerspective","OPerspective","msPerspective","perspective","perspectiveProperty"],!1),sCSSTransform:$.CF.testProperties("transform",["WebkitTransform","MozTransform","OTransform","msTransform","transform"],!0),sCSSTransformStyle:$.CF.setPropertiesStyle("transform",["WebkitTransform","MozTransform","OTransform","msTransform","transform"]),sCSSTransition:$.CF.testProperties("transition",["WebkitTransition","MozTransition","OTransition","msTransition","transition"],!0),bHasCSSAnimation:$.CF.testProperties("animation",["WebkitAnimation","MozAnimation","OAnimation","msAnimation","animation"],!1),sMouseWheel:"onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],bHasIE10Pointer:window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,bHasPointer:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,bIsiPad:null!==navigator.userAgent.match(/iPad/i)}},function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.fn.AnyPicker=function(i){var n=a(this).data(),o=Object.keys(n),s,r;if(null===i||i===void 0){if(0<o.length){for(s in o)if(r=o[s],-1!==r.search("plugin_AnyPicker_"))return n[r];}else console.log("No AnyPicker Object Defined For This Element");}else if(!("string"==typeof i))return this.each(function(){var l=new Date().getTime();if(!a.data(this,"plugin_AnyPicker_"+l))i.timestamp=l,n=new t(this,i),a.data(this,"plugin_AnyPicker_"+l,n),n.init();else if(0<o.length){for(s in o)if(r=o[s],-1!==r.search("plugin_AnyPicker_"))return n[r];}else console.log("No AnyPicker Object Defined For This Element")});else if(null!==n||void 0!==n)if(!(0<o.length))console.log("No AnyPicker Object Defined For This Element");else if("destroy"===i)if(0<o.length){for(s in o)if(r=o[s],-1!==r.search("plugin_AnyPicker_")){n=n[r],a(window).off("blur."+n.setting.timestamp);var m=a(n.setting.inputElement);a(m).off("focus."+n.setting.timestamp),a(m).off("blur."+n.setting.timestamp),a(".ap-overlay-"+r.replace("plugin_AnyPicker_","")).remove(),a(this).removeData(r);break}}else console.log("No AnyPicker Object Defined For This Element")}}),t.prototype={init:function(){var a=this;if($.CF.isValid(a.elem)&&(a.tmp.sElemTag=$(a.elem).prop("tagName").toLowerCase(),"input"===a.tmp.sElemTag?a.tmp.oElemValid.bIsInput=!0:"ul"===a.tmp.sElemTag||"ol"===a.tmp.sElemTag||"dl"===a.tmp.sElemTag?a.tmp.oElemValid.bIsListItem=!0:"select"===a.tmp.sElemTag&&(a.tmp.oElemValid.bIsSelect=!0)),$.CF.isValid(a.setting.inputElement)?(a.tmp.sInputElemTag=$(a.setting.inputElement).prop("tagName").toLowerCase(),"input"===a.tmp.sInputElemTag?a.tmp.oInputElemValid.bIsInput=!0:"ul"===a.tmp.sInputElemTag||"ol"===a.tmp.sInputElemTag||"dl"===a.tmp.sInputElemTag?a.tmp.oInputElemValid.bIsListItem=!0:"select"===a.tmp.sInputElemTag&&(a.tmp.oInputElemValid.bIsSelect=!0)):$.CF.isValid(a.elem)&&(a.setting.inputElement=a.elem,a.tmp.sInputElemTag=a.tmp.sElemTag,a.tmp.oInputElemValid=a.tmp.oElemValid),$.CF.compareStrings(a.setting.mode,"select")?a.__setComponentsOfSelect():$.CF.compareStrings(a.setting.mode,"datetime")&&a.__setComponentsOfDateTimePicker(),""!==a.tmp.sInputElemTag&&!(a.tmp.oInputElemValid.bIsListItem||a.tmp.oInputElemValid.bIsSelect)){var i=$(a.setting.inputElement);a.tmp.oInputElemValid.bIsInput?(i.off("focus."+a.setting.timestamp),i.on("focus."+a.setting.timestamp,{apo:a},a._inputElementClicked),i.on("blur."+a.setting.timestamp,function(){$.AnyPicker.tempDefaults.tabKey&&a.showOrHidePicker(),a.tmp.prevActive=null}),i.on("keydown."+a.setting.timestamp,function(n){"9"===(n.keyCode?n.keyCode:n.which)&&($.AnyPicker.tempDefaults.tabKey=!0)})):(i.off("click."+a.setting.timestamp),i.on("click."+a.setting.timestamp,{apo:a},a._inputElementClicked))}$.CF.isValid(a.setting.onInit)&&a.setting.onInit.call(a)},_inputElementClicked:function(a){a.stopPropagation(),a.preventDefault();var i=a.data.apo;if(document.activeElement!==i.tmp.prevActive||document.activeElement!==i.setting.inputElement)if(i.tmp.prevActive=document.activeElement,""!==i.tmp.sInputElemTag&&!(i.tmp.oInputElemValid.bIsListItem||i.tmp.oInputElemValid.bIsSelect)){var o,n=$(i.setting.inputElement);if(i.tmp.oInputElemValid.bIsInput)o=n.val();else{var s=n.attr("data-val");o=$.CF.isValid(s)?s:n.text()}$.AnyPicker.tempDefaults.tabKey?($.AnyPicker.tempDefaults.tabKey=!1,setTimeout(function(){i.showOrHidePicker(o)},500)):i.showOrHidePicker(o)}else console.log("No InputElement Specified")},showOrHidePicker:function(a){var i=this,n,o,s,r=[],m=[];if(a!==void 0&&null!==a)if($.CF.isValid(i.setting.parseInput)){if($.CF.compareStrings(i.setting.mode,"datetime"))i.setting.selectedDate=i.setting.parseInput.call(i,a);else if($.CF.compareStrings(i.setting.mode,"select")){for(r=i.setting.parseInput.call(i,a),n=0;n<r.length;n++)o=r[n],s=i.__getDataSourceValueFromLabel(o,n,!0),m.push({component:n,val:s,label:o});i.tmp.selectedValues.values=m}}else if($.CF.compareStrings(i.setting.mode,"datetime"))i.setting.selectedDate=a;else if($.CF.compareStrings(i.setting.mode,"select")){if(""!==a)for(r=[],m=[],1<i.tmp.numOfComp?r=a.split(" "):r.push(a),n=0;n<r.length;n++)o=r[n],s=i.__getDataSourceValueFromLabel(o,n,!0),m.push({component:n,val:s,label:o});else for(n=0;n<i.tmp.numOfComp;n++){var l=i.setting.dataSource[n].data;o=l[0].label,s=l[0].val,m.push({component:n,val:s,label:o})}i.tmp.selectedValues.values=m}0<$(i.tmp.overlaySelector).length?i._hidePicker():$.CF.isValid(i.setting.onBeforeShowPicker)?i.setting.onBeforeShowPicker.call(i)&&i._showPicker():i._showPicker()},_showPicker:function(){var a=this;a.tmp.sOrientation=a._getDeviceOrientation();var i="",n=($.CF.compareStrings(a.setting.layout,"popup")||$.CF.compareStrings(a.setting.layout,"popover"))&&0<a.setting.viewSections.header.length,o=($.CF.compareStrings(a.setting.layout,"popup")||$.CF.compareStrings(a.setting.layout,"popover"))&&0<a.setting.viewSections.footer.length,s=$.CF.compareStrings(a.setting.layout,"fixed")&&$.CF.compareStrings(a.setting.vAlign,"bottom")&&0<a.setting.viewSections.footer.length,r=$.CF.compareStrings(a.setting.layout,"fixed")&&$.CF.compareStrings(a.setting.vAlign,"top")&&0<a.setting.viewSections.footer.length,m=$.CF.compareStrings(a.setting.mode,"datetime")&&"datetime"===a.tmp.sDateTimeMode,l="ap-layout-"+a.setting.layout,p="ap-theme-"+a.setting.theme.toLowerCase(),d="ap-dir-"+a.tmp.sDir;if($.CF.compareStrings(a.setting.layout,"popover")){var c=$("body").scrollTop(),g=$(window).height(),S=$.CF.compareStrings(a.setting.rowsNavigation,"scroller")?300:350,h=$(a.setting.inputElement).offset().top-S,T=$(a.setting.inputElement).offset().top+$(a.setting.inputElement).height()+S;a.tmp.sTooltip=!(T>c+g)?"bottom":!(h<c)?"top":a.setting.rtl?"right":"left"}i+="<div class='ap-overlay "+l+" "+a.tmp.overlayClass+" "+p+" "+d+"'>",i+="<div class='ap-bg'>",i+="<div class='ap-cont' dir='"+a.tmp.sDir+"'>",$.CF.isValid(a.tmp.sTooltip)&&(i+="<span class='ap-tooltip ap-tooltip-"+a.tmp.sTooltip+"'></span>"),n&&(i+="<div class='ap-header'>",m&&$.CF.compareStrings(a.setting.theme,"Windows")&&(i+="<div class='ap-content-switch'>",a.setting.rtl?(i+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>",i+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>"):(i+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>",i+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>"),i+="</div>",a.tmp.sDateTimeTab="time"),i+="</div>"),s&&(i+="<div class='ap-footer ap-footer-top'>",$.CF.compareStrings(a.setting.theme,"Default")&&(i+="<div class='ap-button-cont'></div>"),i+="</div>"),i+="<div class='ap-content'>",0<a.setting.viewSections.contentTop.length&&(i+="<div class='ap-content-top'></div>"),m&&!$.CF.compareStrings(a.setting.theme,"Windows")&&(i+="<div class='ap-content-switch'>",a.setting.rtl?(i+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>",i+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>"):(i+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>",i+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>"),i+="</div>",a.tmp.sDateTimeTab="date"),i+="<div class='ap-content-middle'>",i+="<div class='ap-component-section'></div>",i+="</div>",0<a.setting.viewSections.contentBottom.length&&(i+="<div class='ap-content-bottom'></div>"),i+="</div>",(o||r)&&(i+="<div class='ap-footer ap-footer-bottom'>",$.CF.compareStrings(a.setting.theme,"Default")&&(i+="<div class='ap-button-cont'></div>"),i+="</div>"),i+="</div>",i+="</div>",i+="</div>",$(a.setting.parent).append(i),"popover"===a.setting.layout&&$("body").addClass("noscroll"),$.AnyPicker.extra.bHasCSSAnimation?($(a.tmp.overlaySelector).addClass("ap-show"),$(a.tmp.overlaySelector).css({display:"block"}),$.CF.compareStrings(a.setting.layout,"fixed")&&($.CF.compareStrings(a.setting.vAlign,"top")?$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-top-slide-down"):$.CF.compareStrings(a.setting.vAlign,"bottom")&&$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-bottom-slide-up")),setTimeout(function(){$(a.tmp.overlaySelector).css({opacity:1}),$(a.tmp.overlaySelector).removeClass("ap-show"),$.CF.compareStrings(a.setting.layout,"fixed")&&($.CF.compareStrings(a.setting.vAlign,"top")?($(a.tmp.overlaySelector).find(".ap-cont").removeClass("ap-top-slide-down"),$(a.tmp.overlaySelector+" .ap-cont").css({top:0})):$.CF.compareStrings(a.setting.vAlign,"bottom")&&($(a.tmp.overlaySelector).find(".ap-cont").removeClass("ap-bottom-slide-up"),$(a.tmp.overlaySelector+" .ap-cont").css({bottom:0})))},a.setting.animationDuration)):$(a.tmp.overlaySelector).show(0),$.CF.isValid(a.setting.onShowPicker)&&a.setting.onShowPicker.call(a),a._adjustPicker(),a._addViewSectionComponents(),a.__initComponents(),a._adjustPicker(),a.tmp.bIsManualDraggingAfterShow=!1,$.CF.compareStrings(a.setting.mode,"datetime")&&"datetime"===a.tmp.sDateTimeMode&&a._setDateTimeTabs(a.tmp.sDateTimeTab)},_hidePicker:function(){var a=this;0<$(a.tmp.overlaySelector).length&&($.CF.isValid(a.setting.onBeforeHidePicker)&&a.setting.onBeforeHidePicker.call(a),$.AnyPicker.extra.bHasCSSAnimation?($(a.tmp.overlaySelector).addClass("ap-hide"),$.CF.compareStrings(a.setting.layout,"fixed")&&($.CF.compareStrings(a.setting.vAlign,"top")?$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-top-slide-up"):$.CF.compareStrings(a.setting.vAlign,"bottom")&&$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-bottom-slide-down")),setTimeout(function(){$(a.tmp.overlaySelector).remove()},a.setting.animationDuration)):($(a.tmp.overlaySelector).hide(0),setTimeout(function(){$(a.tmp.overlaySelector).remove()},a.setting.animationDuration)),"popover"===a.setting.layout&&$("body").removeClass("noscroll"),a.tmp.prevActive=null,$.CF.isValid(a.setting.onHidePicker)&&a.setting.onHidePicker.call(a))},_adjustPicker:function(a){var i=this;if($.CF.compareStrings(i.setting.theme,"Windows")){a=$.CF.isValid(a)?parseInt(a):i.tmp.numOfComp;var m,n=$(window).height(),o=$(window).width(),s="portrait"===i._getDeviceOrientation(),r=10;i.setting.visibleRows=s?5:3,i.setting.componentsCoverFullWidth||(s?(p=Math.floor(o/3),m=p*a,r=(o-m)/2):(p=Math.floor(n/3),m=p*a,m=n>m?m:n,r=(o-m)/2,o=n),$(i.tmp.overlaySelector).find(".ap-content-middle").css({"padding-left":r,"padding-right":r})),o-=16;var l=Math.floor(n/i.setting.visibleRows),p=Math.floor(o/3);i.setting.componentsCoverFullWidth?(l=Math.floor(n/i.setting.visibleRows),i.setting.rowHeight=l):i.setting.rowHeight=p;var g,u,d=i.setting.rowHeight*i.setting.visibleRows,c=(n-d)/2;$(i.tmp.overlaySelector).find(".ap-content").css({top:c}),c+=2,g=$(i.tmp.overlaySelector).find(".ap-header").height()-c,$(i.tmp.overlaySelector).find(".ap-content-top").css({top:g}),c-=2,u=$(i.tmp.overlaySelector).find(".ap-footer").height()+c,$(i.tmp.overlaySelector).find(".ap-content-bottom").css({bottom:u}),i.tmp.iExt=Math.floor(i.setting.visibleRows/2)}var f=$(null===i.setting.relativeTo?i.setting.inputElement:i.setting.relativeTo),S=f.offset().top,h=f.offset().left,D=f.outerWidth();if($.CF.compareStrings(i.setting.layout,"popover")){var I,k,O,T=$("body").scrollTop(),C=$(window).outerWidth(),y=$(window).outerHeight(),b=T,v=$(i.setting.inputElement).offset().top-T,_=$(i.setting.inputElement).outerHeight(),w=$(i.setting.inputElement).offset().left,x=$(i.setting.inputElement).outerWidth(),P=$(i.tmp.overlaySelector).find(".ap-cont").outerWidth(),A=$(i.tmp.overlaySelector).find(".ap-cont").outerHeight(),H=10;"top"===i.tmp.sTooltip?(I=v-A-H,O=0>I?5:I,k=w+5):"bottom"===i.tmp.sTooltip?(I=v+_+H,k=w+5,"rtl"===i.tmp.sDir&&(k=w+x-P)):"left"===i.tmp.sTooltip?(I=v-(A/2-_/2),I=I<b?5:I,k=w+x+5):"right"===i.tmp.sTooltip&&(I=v-(A/2-_/2),I=I<b?5:I,k=w-(P+10)),$(i.tmp.overlaySelector).find(".ap-cont").css({position:"absolute",left:k,top:I})}else if($.CF.compareStrings(i.setting.layout,"inline"))$(i.tmp.overlaySelector).find(".ap-cont").css({position:"absolute",width:D,left:h,top:S});else if($.CF.compareStrings(i.setting.layout,"relative")){f=$(null===i.setting.relativeTo?i.setting.inputElement:i.setting.relativeTo);var R=0,B=$(document).outerWidth(),N=$(".ap-cont").outerWidth(),W=D;D=W>N?N:W,S+=f.outerHeight(),$.CF.compareStrings(i.setting.hAlign,"center")?h=W>D?h+D/2:W===D?h:h-D/2:$.CF.compareStrings(i.setting.hAlign,"right")&&(h-=D),h=h<R?R+5:h;var Y=h+D;Y>B&&(h>R+5?(h-=Y-(B+5),h=h<R?R+5:h,Y=h+D,D=Y>B?B-10:D):D=B-10),$(i.tmp.overlaySelector).find(".ap-cont").css({position:"absolute","min-width":D,left:h,top:S})}else $.CF.compareStrings(i.setting.layout,"fixed")&&($.CF.compareStrings(i.setting.vAlign,"top")?$(i.tmp.overlaySelector+" .ap-cont").css({top:-1000}):$.CF.compareStrings(i.setting.vAlign,"bottom")&&$(i.tmp.overlaySelector+" .ap-cont").css({bottom:-1000}))},_addViewSectionComponents:function(){var a=this,i,n,o=$.CF.compareStrings(a.setting.theme,"Windows");for(i=0;i<$.AnyPicker.extra.sArrViewSections.length;i++){var s=$.AnyPicker.extra.sArrViewSections[i],r=a.setting.viewSections[s];if(0<r.length)for(n=0;n<r.length;n++){var m=r[n],l=a.setting[m]||null,p=$(l.markup);if(o&&$.CF.isValid(l.markupContentWindows)&&p.html(l.markupContentWindows),void 0!==l&&null!==l&&""!==l){if($.CF.compareStrings(s,"header"))$(a.tmp.overlaySelector).find(".ap-header").append(p),$.CF.compareStrings(l.type,"Button")&&$.CF.compareDataType(l.action,"function")&&p.on("click."+a.setting.timestamp,{apo:a},l.action);else if($.CF.compareStrings(s,"contentTop"))$(a.tmp.overlaySelector).find(".ap-content-top").append(p),$.CF.compareStrings(l.type,"Button")&&$.CF.compareDataType(l.action,"function")&&p.on("click."+a.setting.timestamp,{apo:a},l.action);else if($.CF.compareStrings(s,"contentBottom"))$(a.tmp.overlaySelector).find(".ap-content-bottom").append(p),$.CF.compareStrings(l.type,"Button")&&$.CF.compareDataType(l.action,"function")&&p.on("click."+a.setting.timestamp,{apo:a},l.action);else if($.CF.compareStrings(s,"footer")){var d=$(a.tmp.overlaySelector).find(".ap-button-cont");0<d.length?d.append(p):$(a.tmp.overlaySelector).find(".ap-footer").append(p),$.CF.compareStrings(l.type,"Button")&&$.CF.compareDataType(l.action,"function")&&p.on("click."+a.setting.timestamp,{apo:a},l.action)}$.CF.compareStrings(m,"headerTitle")&&(/^HH:mm/.test(a.setting.dateTimeFormat)||/^hh:mm/.test(a.setting.dateTimeFormat)||"mm:ss"==a.setting.dateTimeFormat)||$.CF.compareStrings(l.contentBehaviour,"Static")?$(a.tmp.overlaySelector).find(".ap-header__title").text(a.setting.i18n.headerTitle):$.CF.compareStrings(m,"setButton")?!o||o&&a.tmp.bModified.set?p.text(a.setting.i18n.setButton):o&&!a.tmp.bModified.set&&p.find(".ap-button-text").text(a.setting.i18n.setButton):$.CF.compareStrings(m,"clearButton")?!o||o&&a.tmp.bModified.clear?p.text(a.setting.i18n.clearButton):o&&!a.tmp.bModified.clear&&p.find(".ap-button-text").text(a.setting.i18n.clearButton):$.CF.compareStrings(m,"nowButton")?!o||o&&a.tmp.bModified.now?p.text(a.setting.i18n.nowButton):o&&!a.tmp.bModified.now&&p.find(".ap-button-text").text(a.setting.i18n.nowButton):$.CF.compareStrings(m,"cancelButton")&&(!o||o&&a.tmp.bModified.cancel?p.text(a.setting.i18n.cancelButton):o&&!a.tmp.bModified.cancel&&p.find(".ap-button-text").text(a.setting.i18n.cancelButton)),$.CF.compareStrings(l.type,"Button")&&!$.CF.compareDataType(l.action,"function")&&($.CF.compareStrings(m,"setButton")?p.on("click."+a.setting.timestamp,{apo:a},a._setButtonAction):$.CF.compareStrings(m,"clearButton")?p.on("click."+a.setting.timestamp,{apo:a},a._clearButtonAction):$.CF.compareStrings(m,"nowButton")?p.on("click."+a.setting.timestamp,{apo:a},a._nowButtonAction):$.CF.compareStrings(m,"cancelButton")&&p.on("click."+a.setting.timestamp,{apo:a},a._cancelButtonAction))}}}o&&$(".ap-button-icon, .ap-button-text").click(function(){$(this).closest(".ap-button").trigger("click")}),$(a.tmp.overlaySelector).find(".ap-button").on("mousedown touchstart",function(){$(this).addClass("ap-button-active")}).on("mouseup touchend",function(){$(this).removeClass("ap-button-active")}),$(window).on("blur."+a.setting.timestamp,function(){a.tmp.prevActive=document.activeElement}),$(a.tmp.overlaySelector).off("click."+a.setting.timestamp),setTimeout(function(){$(a.tmp.overlaySelector).on("click."+a.setting.timestamp,function(){var g=Date.now()-a.tmp.iCompDragStart;!a.setting.bIsTouched&&1e3<g&&a._hidePicker()})},300),$(a.tmp.overlaySelector).find(".ap-cont, .ap-cont *").on("click."+a.setting.timestamp,function(c){c.stopPropagation()}),$(a.tmp.overlaySelector).find(".ap-content-switch-date").click(function(c){c.stopPropagation(),a._setDateTimeTabs("date")}),$(a.tmp.overlaySelector).find(".ap-content-switch-time").click(function(c){c.stopPropagation(),a._setDateTimeTabs("time")}),$(window).resize(function(){a._adjustOnOrientationChange()})},_setDateTimeTabs:function(a){var i=this,n="date"===a?"time":"date";i.tmp.sDateTimeTab=a,$(i.tmp.overlaySelector).find(".ap-content-switch-tab").removeClass("ap-content-switch-selected"),$(i.tmp.overlaySelector).find(".ap-content-switch-"+a).addClass("ap-content-switch-selected");var o=$(i.tmp.overlaySelector).find("[data-type='"+n+"']"),s=$(i.tmp.overlaySelector).find("[data-type='"+a+"']");o.css("display","none"),s.css("display","table-cell"),$.CF.compareStrings(i.setting.theme,"Windows")&&i._adjustPicker(s.length)},_setOutput:function(){var a=this,i="";if($.CF.isValid(a.setting.formatOutput))i=a.setting.formatOutput.call(a,a.tmp.selectedValues,a.tmp.bIsManualDraggingAfterShow);else if($.CF.compareStrings(a.setting.mode,"select"))for(var n=0;n<a.tmp.numOfComp;n++)0!==n&&(i+=" "),i+=a.tmp.selectedValues.values[n].label;else $.CF.compareStrings(a.setting.mode,"datetime")&&(i=a.formatOutputDates(a.tmp.selectedValues.date,a.tmp.bIsManualDraggingAfterShow));if(a.tmp.oElemValid.bIsListItem||a.tmp.oElemValid.bIsSelect){var o,s;a.tmp.oElemValid.bIsListItem?o="li":a.tmp.oElemValid.bIsSelect&&(o="option"),$(a.elem).find(o).each(function(){s=$(this);var m=s.attr("value")||s.data("value")||s.text();a.tmp.selectedValues.values[0].val===m?a.tmp.oElemValid.bIsSelect?s.attr("selected",!0):a.tmp.oElemValid.bIsListItem&&s.attr("data-selected",!0):a.tmp.oElemValid.bIsSelect?s.attr("selected",!1):a.tmp.oElemValid.bIsListItem&&s.attr("data-selected",!1)})}if($.CF.isValid(a.setting.setOutput))a.setting.setOutput.call(a,i,a.tmp.selectedValues,a.tmp.bIsManualDraggingAfterShow);else{if(null!==a.setting.inputElement){var r=$(a.setting.inputElement);a.tmp.oInputElemValid.bIsInput?r.val(i):r.text(i)}$.CF.isValid(a.setting.onSetOutput)&&a.setting.onSetOutput.call(a,i,a.tmp.selectedValues,a.tmp.bIsManualDraggingAfterShow)}},_clearOutput:function(){var a=this,i=$(a.setting.inputElement);a.tmp.oInputElemValid.bIsInput?i.val(""):i.text("")},_setButtonAction:function(a){var i=a.data.apo;i._setOutput(),i.showOrHidePicker(),$.CF.isValid(i.setting.buttonClicked)&&i.setting.buttonClicked.call(i,"set")},_clearButtonAction:function(a){var i=a.data.apo;if(i.tmp.selectedDate=$.AnyPicker.extra.dToday,""!==i.tmp.sInputElemTag&&!(i.tmp.oInputElemValid.bIsListItem||i.tmp.oInputElemValid.bIsSelect)){var n=$(i.setting.inputElement);i.tmp.oInputElemValid.bIsInput?n.val(""):n.text("")}i.showOrHidePicker(),$.CF.isValid(i.setting.buttonClicked)&&i.setting.buttonClicked.call(i,"clear")},_nowButtonAction:function(a){var i=a.data.apo;$.CF.compareStrings(i.setting.mode,"datetime")&&(i.tmp.selectedDate=i._getCurrentDate(),i._setSelectedAndInvalidValuesForRows()),$.CF.isValid(i.setting.buttonClicked)&&i.setting.buttonClicked.call(i,"now")},_cancelButtonAction:function(a){var i=a.data.apo;i.showOrHidePicker(),$.CF.isValid(i.setting.buttonClicked)&&i.setting.buttonClicked.call(i,"cancel")},_getDeviceOrientation:function(){var a=$(window);return a.width()>a.height()?"landscape":"portrait"},_adjustOnOrientationChange:function(){var a=this,i=a._getDeviceOrientation();i!==a.tmp.sOrientation&&($("body").prepend("<div class='ap-loading'>Loading</div>"),a.tmp.sOrientation=i,a._adjustPicker(),a.reloadAllComponents())}},$.AnyPicker=$.extend(!0,$.AnyPicker,{defaults:{components:null,dataSource:null,showComponentLabel:!1,componentsCoverFullWidth:!1,visibleRows:3,maxRows:0,rowHeight:50,rowsNavigation:"scroller",rowView:null,onChange:null},tempDefaults:{numOfComp:0,selectedValues:{},bIsManualDraggingAfterShow:!0,bIsManualDragging:!1,bIsTouched:!1,iTS:0,iPos:0,iPosPrev:0,iPosStop:0,iOffset:0,iOffsetPrev:0,iVelocity:0,iAmplitude:0,oVelocityTicker:null,oScrollTicker:null,iMinTopPos:0,iMaxTopPos:0,oScrollingComp:null,iScrollingComp:-1,iTmConst:100,bEnd:!1},extra:{sArrRowsNavigation:["scroller+buttons","scroller","buttons"]}}),t.prototype=$.extend(t.prototype,{__initComponents:function(){var a=this;a.tmp.bFirst?a.tmp.bFirst=!1:$.CF.compareStrings(a.setting.mode,"select")?a.__setComponentsOfSelect():$.CF.compareStrings(a.setting.mode,"datetime")&&a.__setComponentsOfDateTimePicker();var i=a.tmp.numOfComp||a.setting.components.length;0<i&&(0<a.setting.components.length?a.reloadAllComponents():console.log("For apo.setting.mode \n 1. Select - \n Please set apo.setting.components 2. DateTime - \n Please enter a valid outputDateTimeFormat "))},reloadAllComponents:function(){var a=this,i;for($(a.setting.parent).find(".ap-component-section").html(""),$("body").prepend("<div class='ap-loading'></div>"),i=0;i<a.tmp.numOfComp;i++)a.reloadComponent(i,!1);a.adjustComponents(),a.setSelectedAndInvalidValuesForRows(!0)},reloadComponent:function(a,i){var n=this,o="",r,m=n.setting.dataSource[a].data,l=!1,p,d="ap-component-"+a,c=$(n.setting.parent).find("#"+d),g=n.setting.components[a],u=$.CF.isValid(g.type)?g.type:g.label,f=$.CF.isValid(g.width)?"width: "+g.width:"",S=n.setting.rtl?$.CF.compareStrings(g.textAlign,"left")?"right":$.CF.compareStrings(g.textAlign,"right")?"left":"":g.textAlign,h=$.CF.isValid(S)?"text-align: "+S:"";for(0===c.length&&(o+="<div class='ap-component' id='"+d+"' data-type='"+u+"' "+(""==f?"":"style='"+f+";'")+">"),!$.CF.compareStrings(n.setting.theme,"Windows")&&n.setting.showComponentLabel&&(o+="<div class='ap-component-label' "+(""==h?"":"style='"+h+";'")+">"+g.label+"</div>"),($.CF.compareStrings(n.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(n.setting.rowsNavigation,"buttons"))&&(o+="<div class='ap-component-plus ap-icon-arrow-up-filled' "+(""==h?"":"style='"+h+";'")+"></div>"),o+="<div class='ap-component-cont' tabindex='0'>",o+="<div class='ap-component-data' role='listbox' aria-label='"+g.label+"'>",r=0;r<n.tmp.iExt;r++)o+="<div class='ap-row ap-row-ext'></div>";for(r=0;r<m.length;r++)l=!!$.CF.isValid(m[r].selected)&&m[r].selected,p=l?"ap-row-selected":"",o+="<div class='ap-row "+p+"' id='ap-row-"+a+"-"+r+"' data-value='"+m[r].val+"' data-label='"+m[r].label+"' role='option' aria-selected='"+l+"' "+(""==h?"":"style='"+h+";'")+">",$.CF.compareStrings(n.setting.theme,"Windows")&&(o+="<div class='ap-row-bg'>",!$.CF.isValid(n.setting.rowView)&&(o+="<div class='ap-row-content'>")),o+=$.CF.isValid(n.setting.rowView)?n.setting.rowView.call(n,a,r,m[r]):m[r].label,$.CF.compareStrings(n.setting.theme,"Windows")&&!$.CF.isValid(n.setting.rowView)&&(o+="</div>",o+="<div class='ap-row-label'>",n.setting.showComponentLabel&&(o+=g.label),o+="</div>"),$.CF.compareStrings(n.setting.theme,"Windows")&&(o+="</div>"),o+="</div>";for(r=0;r<n.tmp.iExt;r++)o+="<div class='ap-row ap-row-ext'></div>";o+="</div>",o+="<div class='ap-component-gradient'></div>",o+="<div class='ap-component-selector' id='ap-component-selector-"+a+"'></div>",o+="</div>",($.CF.compareStrings(n.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(n.setting.rowsNavigation,"buttons"))&&(o+="<div class='ap-component-minus ap-icon-arrow-down-filled' "+(""==h?"":"style='"+h+";'")+"></div>"),0===c.length&&(o+="</div>"),0<c.length?c.html(o):$(n.setting.parent).find(".ap-component-section").append(o),n._bindEventsToComponent(a),(0<c.length||i)&&n.adjustComponents(),i&&n.setSelectedAndInvalidValuesForRows(!0)},_bindEventsToComponent:function(a){var i=this,n=$("#ap-component-"+a),o=n.find(".ap-component-cont"),s={component:a,apo:i};if(($.CF.compareStrings(i.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(i.setting.rowsNavigation,"scroller"))&&(o.on($.AnyPicker.extra.sStartEv+"."+i.setting.timestamp,s,i._onStartDrag),o.on($.AnyPicker.extra.sMoveEv+"."+i.setting.timestamp,s,i._onDrag),$.CF.isValid($.AnyPicker.extra.sEndEv)&&o.on($.AnyPicker.extra.sEndEv+"."+i.setting.timestamp,s,i._onEndDrag),$.CF.isValid($.AnyPicker.extra.sOutEv)&&o.on($.AnyPicker.extra.sOutEv+"."+i.setting.timestamp,s,i._onEndDrag),0<$.AnyPicker.extra.sMouseWheel.length))for(var r=0;r<$.AnyPicker.extra.sMouseWheel.length;r++)o.on($.AnyPicker.extra.sMouseWheel[r]+"."+i.setting.timestamp,s,i._onMouseWheelScroll);($.CF.compareStrings(i.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(i.setting.rowsNavigation,"buttons"))&&(n.find(".ap-component-plus").on("click."+i.setting.timestamp,s,i._onClickButtonMinus),n.find(".ap-component-minus").on("click."+i.setting.timestamp,s,i._onClickButtonPlus)),o.on("keydown."+i.setting.timestamp,s,i._onKeyDown),o.on("keyup."+i.setting.timestamp,s,i._onKeyUp)},adjustComponents:function(){var a=this,i=$(a.tmp.overlaySelector);if(i.find(".ap-component-cont").css({height:a.setting.rowHeight*a.setting.visibleRows}),i.find(".ap-row, .ap-component-selector").css({height:a.setting.rowHeight,"line-height":a.setting.rowHeight+"px"}),i.find(".ap-row-bg").css({height:a.setting.rowHeight-8}),!$.CF.compareStrings(a.setting.theme,"Windows")){var n=$(".ap-cont").width(),o=$(".ap-cont").height(),s=$(window).width(),r=$(window).height(),m=s,l=r,p=!1,d=!1;if(n>s&&(p=!0,m=n+20),o>r&&(d=!0,l=o+20),(p||d)&&(i.css({position:"absolute",height:l,width:m}),$.CF.compareStrings(a.setting.layout,"fixed")&&$(".ap-cont").css({position:"absolute"})),$.CF.compareStrings(a.setting.layout,"relative")){var c=$(null===a.setting.relativeTo?a.setting.inputElement:a.setting.relativeTo),g=i.find(".ap-cont"),u=c.offset().top+g.height();$.CF.compareStrings(a.setting.vAlign,"top")&&g.css({top:u})}}setTimeout(function(){$(".ap-loading").remove()},0)},_onStartDrag:function(a){var i=a.data.apo;if(i.tmp.bIsManualDragging||(i.tmp.bIsManualDraggingAfterShow=!0,i.tmp.bIsManualDragging=!0),i.tmp.bIsTouched=!0,i.tmp.bEnd=!1,i.tmp.iPos=i._getTouchPosition(a),i.tmp.bFromTouchStart=!0,i._setScrollingData(a),$.CF.compareStrings(i.setting.theme,"Windows")){var n=$(i.tmp.overlaySelector).find("#ap-component-"+i.tmp.iScrollingComp);i.tmp.bIsManualDragging&&($(i.tmp.overlaySelector).find(".ap-component").removeClass("ap-component-modifying"),n.addClass("ap-component-modifying"))}return"mousedown"===a.type&&($(document).on("mousemove."+i.setting.timestamp,a.data,i._onDrag),$(document).on("mouseup."+i.setting.timestamp,a.data,i._onEndDrag)),a.preventDefault(),a.stopPropagation(),!1},_onDrag:function(a){var n,o,s,m,l,p,i=a.data.apo,d=Date.now();if(i._clearScrollTicker(),i.tmp.bIsTouched&&(!$.AnyPicker.extra.bHasPointer||$.AnyPicker.extra.bHasPointer&&(i.tmp.bFromTouchStart||!i.tmp.bFromTouchStart&&1e3<d-i.tmp.iTS))&&(n=i._getTouchPosition(a),d=Date.now(),o=i.tmp.iPos-n,l=o/Math.abs(o),2<o||-2>o)){if($.CF.compareStrings(i.setting.theme,"Windows")){var c=$(i.tmp.overlaySelector).find("#ap-component-"+i.tmp.iScrollingComp),g=c.find(".ap-row");g.attr("aria-selected","false"),g.removeClass("ap-row-selected")}i.tmp.iPosPrev=i.tmp.iPos,i.tmp.iPos=n,s=d-i.tmp.iTS,i.tmp.iTS=d,m=o/s,i.tmp.iTotalDS+=o,p=i.tmp.iPrevDSTS-m,$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bIsTouchDevice?10<o||-10>o?$.CF.compareStrings(i.setting.theme,"iOS")?o=4*i.setting.visibleRows*m:100<Math.abs(i.tmp.iTotalDS)?0.05<m?$.CF.compareStrings(i.setting.theme,"Windows")?o=5*(o*s):o=2*(o*s):1===l?o=l*i.setting.rowHeight/2:o=l*i.setting.rowHeight/1.2:0.06<m&&0.08<Math.abs(p)?$.CF.compareStrings(i.setting.theme,"Windows")?o=5*(o*s):o=2*(o*s):(50<o||-50>o)&&($.CF.compareStrings(i.setting.theme,"Windows")?o=5*(o*s):o=2*(o*s)):0.06<Math.abs(m)&&0.08<Math.abs(p)?$.CF.compareStrings(i.setting.theme,"Windows")?o=5*(o*s):o=2*(o*s):1===l?o=l*i.setting.rowHeight/2:o=l*i.setting.rowHeight/1.2:(2>o&&-2<o&&0!=o&&(o=5*l),o=5<o||-5>o?320*(i.setting.visibleRows/10)*m:l*i.setting.rowHeight):(10<o||-10>o)&&(o+=16*i.setting.visibleRows*m),i.tmp.iPrevDSTS=m,i._scrollToPosition("drag",i.tmp.iOffset+o,!1,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data"),i.tmp.bFromTouchStart=!1}return a.preventDefault(),a.stopPropagation(),!1},_onEndDrag:function(a){var i=a.data.apo;return i.tmp.bEnd||(i.tmp.bEnd=!0,i.tmp.bIsTouched=!1,i._scrollToPosition("drag",i.tmp.iOffset,!0,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data"),"mouseup"===a.type&&($(document).off("mousemove."+i.setting.timestamp,i._onDrag),$(document).off("mouseup."+i.setting.timestamp,i._onEndDrag))),a.preventDefault(),a.stopPropagation(),!1},_onMouseWheelScroll:function(a){var o,i=a.data.apo,n=a.data;return a=a||window.event,n.component!==i.tmp.iScrollingComp&&i._setScrollingData(a),i._clearScrollTicker(),o=a.wheelDelta?a.wheelDelta/3:a.originalEvent.wheelDelta?a.originalEvent.wheelDelta/3:a.detail?-a.detail/3:0,i._scrollToPosition("mouseWheel",i.tmp.iOffset-o,!0,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data"),a.preventDefault(),a.stopPropagation(),!1},_onClickButtonPlus:function(a){var i=a.data.apo;a.preventDefault(),a.stopPropagation(),i._setScrollingData(a),i._clearScrollTicker(),i._scrollToPosition("button",i.tmp.iOffset+i.setting.rowHeight,!0,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data")},_onClickButtonMinus:function(a){var i=a.data.apo;a.preventDefault(),a.stopPropagation(),i._setScrollingData(a),i._clearScrollTicker(),i._scrollToPosition("button",i.tmp.iOffset-i.setting.rowHeight,!0,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data")},_onKeyDown:function(a){var i=a.data.apo;a.preventDefault(),a.stopPropagation(),i._setScrollingData(a),i._clearScrollTicker(),38===a.keyCode?i._scrollToPosition("key",i.tmp.iOffset-i.setting.rowHeight,!0,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data"):40===a.keyCode&&i._scrollToPosition("key",i.tmp.iOffset+i.setting.rowHeight,!0,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data")},_onKeyUp:function(a){var i=a.data.apo;a.preventDefault(),a.stopPropagation(),i._unsetScrollingData()},_getTouchPosition:function(a){a.data.apo;return a=a.originalEvent||a,a.changedTouches?a.changedTouches[0].pageY:a.pageY},_setScrollingData:function(a){var i=a.data.apo;i.tmp.iScrollingComp=parseInt(a.data.component),i.tmp.oScrollingComp=$("#ap-component-"+a.data.component).find(".ap-component-data"),i.tmp.iMinTopPos=0,i.tmp.iMaxTopPos=$(i.tmp.oScrollingComp).find(".ap-row").length*i.setting.rowHeight-$(i.tmp.oScrollingComp).parent().innerHeight(),i.tmp.iTS=Date.now(),i.tmp.iCompDragStart=i.tmp.iTS,i.tmp.iOffsetStart=Math.abs($(i.tmp.oScrollingComp).position().top),i.tmp.iOffset=i.tmp.iOffsetStart,i.tmp.iOffsetPrev=i.tmp.iOffsetStart,i.tmp.iTimeout=0,i.tmp.iDir=1,i.tmp.iTotalDS=0,i.tmp.iPrevDSTS=0,i._clearScrollTicker()},_unsetScrollingData:function(){var a=this;a.tmp.bIsTouched=!1,a.tmp.iPos=0,a.tmp.iTS=0,a.tmp.iOffset=0,a.tmp.iTimeout=0,a.tmp.iMinTopPos=0,a.tmp.iMaxTopPos=0,a.tmp.oScrollingComp=null,a.tmp.iScrollingComp=-1,a.tmp.iDir=0,a._clearScrollTicker(),$(document).off("mousemove."+a.setting.timestamp),$(document).off("mouseup."+a.setting.timestamp),$(document).off("touchend."+a.setting.timestamp)},_getScrollingData:function(){var a=this,i={};return i.iScrollingComp=a.tmp.iScrollingComp,i.oScrollingComp=a.tmp.oScrollingComp,i.iMinTopPos=a.tmp.iMinTopPos,i.iMaxTopPos=a.tmp.iMaxTopPos,i.iTS=a.tmp.iTS,i.iCompDragStart=a.tmp.iCompDragStart,i.iOffsetStart=a.tmp.iOffsetStart,i.iOffset=a.tmp.iOffset,i.iOffsetPrev=a.tmp.iOffsetPrev,i.iTimeout=a.tmp.iTimeout,i.iDir=a.tmp.iDir,i},_clearScrollTicker:function(){var a=this;clearTimeout(a.tmp.oScrollTicker),a.tmp.oScrollTicker=null},_scrollToPosition:function(a,i,n,o){var s=this,r=s.tmp.iScrollingComp,m=i<s.tmp.iOffset?1:i===s.tmp.iOffset?s.tmp.iDir:-1,l=i%s.setting.rowHeight,p=s.setting.rowHeight/4,d=s.tmp.iOffset,c=0.1;s.tmp.iDir=m,n&&(i=0==l?i:l<p?i-l:i+(s.setting.rowHeight-l));var g=s.tmp.iMinTopPos-s.setting.rowHeight,u=s.tmp.iMaxTopPos+s.setting.rowHeight;if(s.tmp.iOffset=i>s.tmp.iMaxTopPos?u:i<s.tmp.iMinTopPos?g:i,$.AnyPicker.extra.bHasCSS3D){var f=Math.abs(d-s.tmp.iOffset);"drag"===a?f<6*s.setting.rowHeight?c=f/(10*s.setting.rowHeight):(c=f/(10*s.setting.rowHeight),c=0.2>=c?0.2:c):c=0.1,s._performTransition(r,o,s.tmp.iOffset,s.tmp.iTimeout/1e3,s.tmp.iMinTopPos,s.tmp.iMaxTopPos,m,g,u,a,n),s.tmp.iTimeout=s.tmp.iTimeout-(Date.now()-s.tmp.iTS)+1e3*c}else s._performTransition(r,o,s.tmp.iOffset,c,s.tmp.iMinTopPos,s.tmp.iMaxTopPos,m,g,u,a,n)},_performTransition:function(a,i,n,o,s,r,m,l,p,d,c){var g=this,u=$(g.tmp.overlaySelector).find(i).get(0),f=g._getOffset(u,!0),S=Math.abs(f-n),h=S/(10*g.setting.rowHeight);o=o>h?h:o,o=0.1>o?0.1:o,o=$.AnyPicker.extra.bHasPointer&&g.tmp.bIsTouched&&"auto"===d?0:o,$.AnyPicker.extra.bHasCSS3D?(u.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+o+"s ease-out",u.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-n+"px, 0px)"):$(u).animate({top:-n},100),g.tmp.iOffset=n;var D=g._getScrollingData();g._performTransitionAfter(D,p,l,d,o,c),g._clearScrollTicker()},_performTransitionAfter:function(a,i,n,o,s,r){var m=this;setTimeout(function(){r&&("drag"===o||"mouseWheel"===o)&&(m.tmp.oScrollTicker=1,m._scrollToRow(a.iDir,i,n,a.iMinTopPos,a.iMaxTopPos,o));var l=$(a.oScrollingComp).get(0),p="auto"===o?a.iOffset:-m._getOffset(l,!1),d=p<a.iMinTopPos,c=p>a.iMaxTopPos,g=Math.abs(p);d?p=a.iMinTopPos:c&&(p=a.iMaxTopPos),d||c?(s=Math.abs(g-p)/(10*m.setting.rowHeight),$.AnyPicker.extra.bHasCSS3D?(l.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+s+"s ease-out",l.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-Math.abs(p)+"px, 0px)"):$(l).animate({top:-Math.abs(p)},100),a.iOffset=p,g=p,m._skipDisabledRowAfter(a,g,o,s,r)):(r||g===a.iMinTopPos||g===a.iMaxTopPos)&&m._skipDisabledRow(o,a.iScrollingComp,g,a.iDir)},1e3*s)},_skipDisabledRowAfter:function(a,i,n,o,s){var r=this;setTimeout(function(){var m="auto"===n?i:a.iOffset;(s||m===a.iMinTopPos||m===a.iMaxTopPos)&&r._skipDisabledRow(n,a.iScrollingComp,m,a.iDir)},1e3*o)},_getOffset:function(a,i){var n=$(a).hasClass("ap-component-data")?$(a).css("transform"):$(a).find(".ap-component-data").css("transform"),o=0;if($.CF.isValid(n))if("none"===n)o=0;else{n=n.replace("matrix(",""),n=n.replace(")","");var s=n.split(", ");o=6<s.length?parseInt(s[13]):parseInt(s[5])}return i?Math.abs(o):o},_scrollToRow:function(a,i,n,o,s){var m=this,l,p,d;if(null!==m.tmp.oScrollTicker){var c=$(m.tmp.oScrollingComp).get(0);p=m._getOffset(c,!1),l=p%m.setting.rowHeight,(0!==l||0===l&&(p>o||p<-s))&&(p=Math.abs(p),p=-1===a?p+(m.setting.rowHeight-Math.abs(l)):p+l,p=p>s?s:p<o?o:p,d=0.4,$.AnyPicker.extra.bHasCSS3D?(c.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+d+"s ease-out",c.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-Math.abs(p)+"px, 0px)"):$(c).animate({top:-Math.abs(p)},100),m.tmp.iOffset=p)}},__scrollToSelectedRow:function(){var a=this,i,o=0;for($.CF.compareStrings(a.setting.mode,"datetime")&&a.__setSelectedDateTimeInComponent(),i=0;i<a.tmp.numOfComp;i++){var s=$(a.tmp.overlaySelector).find("#ap-component-"+i+" .ap-row-selected"),r=0<s.length?s[0]:null;if(null!==r){var m=$(r).position().top,l=a.tmp.iExt*a.setting.rowHeight;m=0===m?m:m-l,a.callScrollToPosition(i,a,m,o),o+=200}}},callScrollToPosition:function(a,i,n){var s=this,r={};r.data={component:a,apo:i},s._setScrollingData(r),s._scrollToPosition("auto",n,!0,"#ap-component-"+a+" .ap-component-data")},setSelectedAndInvalidValuesForRows:function(a){var i=this;$.CF.compareStrings(i.setting.mode,"select")?i.__disableInvalidRowsOfSelect():$.CF.compareStrings(i.setting.mode,"datetime")&&(a&&i.__setSelectedDateTimeInComponent(),$(i.tmp.overlaySelector).find(".ap-row").removeClass("ap-row-disabled ap-row-invalid ap-row-hidden"),i.__disableInvalidRowsOfDateTimePicker(),i.__setDaysOfMonthInDatePicker()),a&&i.__scrollToSelectedRow()},__changeComponentValue:function(a,i){var n=this,o=n.setting.components[a],s=n.setting.dataSource[a].data,r,m,l;for(r=0;r<s.length;r++)m="#ap-row-"+a+"-"+r,l=$(n.tmp.overlaySelector).find(m),s[r].val===i?(s[r].selected=!0,l.attr("aria-selected","true"),l.addClass("ap-row-selected")):(s[r].selected=!1,l.attr("aria-selected","false"),l.removeClass("ap-row-selected"))},_skipDisabledRow:function(a,i,n,o){var s=this,r="#ap-component-"+i+" .ap-component-data",m=$(s.tmp.overlaySelector).find(r).get(0),l=Math.floor(n/s.setting.rowHeight),p="#ap-row-"+i+"-",c=$(m).find(".ap-row").length-2*s.tmp.iExt,g=$(m).find(p+l).hasClass("ap-row-disabled"),u=-1,f=0,S={},h=!1;if($.CF.isValid(m)&&g){1===o&&(u=s._findRows(i,l,c,m,o),-1==u&&(o=-1,f=1)),-1===o&&(u=s._findRows(i,l,c,m,o),-1==u&&0==f&&(o=1,u=s._findRows(i,l,c,m,o)));var D=-1==u?-1:$(m).find(p+u).position().top-s.tmp.iExt*s.setting.rowHeight;-1!=u&&n!==D?(h=!0,S.data={component:i,apo:s},s._setScrollingData(S),s._scrollToPosition("auto",D,!0,r)):setTimeout(function(){s._actionsOnComponentStop(a,i,l,n,o)},200)}else setTimeout(function(){s._actionsOnComponentStop(a,i,l,n,o)},200)},_actionsOnComponentStop:function(a,i,n,o,s){var r=this,p="";if(r.__setAriaSelectedForRowElement(i,o,s),r._getSelectedValueInComponent(null),$.CF.compareStrings(r.setting.inputChangeEvent,"onChange")&&r._setOutput(),"DynamicFunction"===r.tmp.sHeaderTitleType)p=r.setting.headerTitle.format.call(r.tmp.selectedValues),$(r.tmp.overlaySelector).find(".ap-header__title").text(p);else if("DynamicString"===r.tmp.sHeaderTitleType){if($.CF.compareStrings(r.setting.mode,"select"))for(var d=0;d<r.tmp.numOfComp;d++)0!==d&&(p+=" "),p+=r.tmp.selectedValues.values[d].label;else $.CF.compareStrings(r.setting.mode,"datetime")&&(p=r.formatOutputDates(r.tmp.selectedValues.date,r.tmp.sArrHeaderTitleFormat));var c=!0;r.tmp.bIsManualDragging||(c=!1),c&&$(r.tmp.overlaySelector).find(".ap-header__title").text(p)}"auto"!==a&&$.CF.isValid(r.setting.onChange)&&r.setting.onChange.call(r,i,n,r.tmp.selectedValues,a),r.setSelectedAndInvalidValuesForRows(!1)},_findRows:function(a,i,n,o,s){var r=this,m;if(-1===s){for(m=i+1;m<n;m++)if(!$(o).find("#ap-row-"+a+"-"+m).hasClass("ap-row-disabled"))return m;}else if(1===s)for(m=i-1;0<m;m--)if(!$(o).find("#ap-row-"+a+"-"+m).hasClass("ap-row-disabled"))return m;return-1},_validateSelectedValues:function(){var a=this;if($.CF.compareStrings(a.setting.mode,"datetime")){var i=a.__getSelectedDate(!1);a.__validateSelectedDate(i,!1)}},__setAriaSelectedForRowElement:function(a,i,n){var o=this,s=$(o.tmp.overlaySelector).find("#ap-component-"+a),r;0===i&&(i=o._getOffset(s,!0)),1===n?r=Math.floor(i/o.setting.rowHeight):-1==n&&(r=Math.ceil(i/o.setting.rowHeight));var m=s.find(".ap-row"),l=s.find("#ap-row-"+a+"-"+r);m.attr("aria-selected","false"),m.removeClass("ap-row-selected"),l.attr("aria-selected","true"),l.addClass("ap-row-selected")},_getSelectedValueInComponent:function(a){var n,o,i=this,m=[];if(i.tmp.selectedValues={},$.CF.isValid(a))o=$(i.tmp.overlaySelector).find("#ap-component-"+a+" .ap-row-selected"),m.push({component:a,val:o.data("value"),label:o.data("label")});else for(n=0;n<i.tmp.numOfComp;n++)o=$(i.tmp.overlaySelector).find("#ap-component-"+n+" .ap-row-selected"),m.push({component:n,val:o.data("value"),label:o.data("label")});i.tmp.selectedValues.values=m,$.CF.compareStrings(i.setting.mode,"datetime")&&(i.tmp.selectedValues.date=i.__getSelectedDate(!1),i.tmp.selectedDate=i.tmp.selectedValues.date)},__getDataSourceValueFromLabel:function(a,i,n){var o=this,s,r,m,l,p="";if($.CF.isValid(i))for(m=o.setting.dataSource[i].data,r=0;r<m.length;r++)l=m[r],$.CF.compareStrings(l.label,a)?(p=l.val,n&&(l.selected=!0)):n&&(l.selected=!1),o.setting.dataSource[i].data[r]=l;else for(s=0;s<o.tmp.numOfComp;s++)for(m=o.setting.dataSource[s].data,r=0;r<m.length;r++)l=m[r],$.CF.compareStrings(l.label,a)?(n&&(l.selected=!0),p=l.val):n&&(l.selected=!1);return p},__getValuesOfComponent:function(a,i){var n=this,o=null,s;if("component"===a){if(n.setting.components[i].component===i)o=n.setting.components[i];else for(s=0;s<n.tmp.numOfComp;s++)n.setting.components[s].component===i&&(o=n.setting.components[s]);}else if("datasource"===a)if(n.setting.dataSource[i].component===i)o=n.setting.dataSource[i];else for(s=0;s<n.tmp.numOfComp;s++)n.setting.dataSource[s].component===i&&(o=n.setting.dataSource[s]);return o}}),t.prototype=$.extend(t.prototype,{__setComponentsOfSelect:function(){var a=this;if(null===a.setting.dataSource)if(a.tmp.oElemValid.bIsListItem||a.tmp.oElemValid.bIsSelect){var i,n;a.setting.components=[];var o={};o.component=1,o.name=$(a.elem).data("name"),o.label=$(a.elem).data("label"),a.setting.components.push(o);var s=[];a.tmp.oElemValid.bIsListItem?i="li":a.tmp.oElemValid.bIsSelect&&(i="option"),$(a.elem).find(i).each(function(){n=$(this);var m={val:n.attr("value")||n.data("value")||n.text(),label:n.text(),selected:function(){return n.attr("selected")||void 0!==n.attr("data-selected")&&"true"===n.attr("data-selected")},disabled:function(){return n.attr("disabled")||void 0!==n.data("disabled")&&"true"===n.data("disabled")}};m.disabled?m.selected=!1:m.selected&&(a.tmp.selected={val:m.val,displayVal:m.displayVal}),s.push(m)}),a.setting.dataSource=[];var r={};r.component=1,r.data=s,a.setting.dataSource.push(r),a.tmp.numOfComp=1,$.CF.compareStrings(a.setting.headerTitle.contentBehaviour,"Dynamic")&&$.CF.isValid(a.setting.headerTitle.format)&&("function"==typeof a.setting.headerTitle.format?a.tmp.sHeaderTitleType="DynamicFunction":"string"==typeof a.setting.headerTitle.format&&(a.tmp.sHeaderTitleType="DynamicString"))}else console.log("You will have to specify dataSource either as a JSON object or as <ul>, <ol>, <dl> or <select>")},__disableInvalidRowsOfSelect:function(){var a=this,i,n,o=a.setting.dataSource[0].data;for(i=0;i<o.length;i++)n=$.CF.isValid(o[i].disabled),n&&!0===o[i].disabled&&$(a.elem).find("#ap-row-0-"+i).addClass("ap-row-disabled")}}),$.AnyPicker=$.extend(!0,$.AnyPicker,{defaults:{selectedDate:null,i18n:{veryShortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],numbers:["0","1","2","3","4","5","6","7","8","9"],meridiem:{a:["a","p"],aa:["am","pm"],A:["A","P"],AA:["AM","PM"]},componentLabels:{date:"Date",day:"Day",month:"Month",year:"Year",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem"}},inputDateTimeFormat:"",dateTimeFormat:"dd-MM-yyyy hh:mm AA",tzOffset:"",maxValue:null,minValue:null,maxYear:0,disableValues:{},intervals:{h:1,m:1,s:1},roundOff:!0},tempDefaults:{oMinMax:{},oArrPDisable:{},sDateTimeMode:"",sArrDateTimeFormat:[],sDateTimeRegex:"",diffDateTimeFormats:!1,sArrInputDateTimeFormat:[],sInputDateTimeRegex:"",sHeaderTitleType:"Static",sArrHeaderTitleFormat:[],dPrevDate:null},extra:{dToday:new Date,iMS:{m:6E4,h:36E5,d:864E5,w:6048E5},sFormatRegex:/(\[[^\[]*\])|(\\)?(MMMM|MMM|MM?|DDDD|DDD|DD|D|dd?|yyyy|YYYY|yy|YY|y|Y|aa?|AA?|hh?|HH?|mm?|ss?|x|X|zz?|ZZ?|.)/g,en:{veryShortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],numbers:["0","1","2","3","4","5","6","7","8","9"],meridiem:{a:["a","p"],aa:["am","pm"],A:["A","P"],AA:["PM","PM"]}},sArrDateComponents:["d","dd","DD","DDD","DDDD","M","MM","MMM","MMMM","y","yy","yyyy","Y","YY","YYYY","h","hh","H","HH","m","mm","s","ss","AA","A","aa","a"],sArrDateTimeModes:["date","time","datetime"]}}),t.prototype=$.extend(t.prototype,{_isSupportedFormat:function(a){this;return-1!==a.search($.AnyPicker.extra.sFormatRegex,"")},__setComponentsOfDateTimePicker:function(){var a=this,i,n;a.setting.components=[],a.tmp.numOfComp=0,a.setting.dataSource=[];var o=-1!==a.setting.dateTimeFormat.search(/D|d|M|y|Y/,""),s=-1!==a.setting.dateTimeFormat.search(/H|h|m|s|A|a/,"");a.tmp.sDateTimeMode=o&&s?"datetime":o?"date":s?"time":"",$.CF.isValid(a.setting.dateTimeFormat)?$.CF.isValid(a.setting.inputDateTimeFormat)?a.tmp.diffDateTimeFormats=a.setting.dateTimeFormat!==a.setting.inputDateTimeFormat:(a.setting.inputDateTimeFormat=a.setting.dateTimeFormat,a.tmp.diffDateTimeFormats=!1):console.log("Invalid DateTimeFormat"),a.tmp.sArrDateTimeFormat=a._setDateTimeFormatComponentsArray(a.setting.dateTimeFormat),a.tmp.diffDateTimeFormats&&(a.tmp.sArrInputDateTimeFormat=a._setDateTimeFormatComponentsArray(a.setting.inputDateTimeFormat)),a.tmp.sDateTimeRegex=a._createDateTimeRegex(a.tmp.sArrDateTimeFormat),a.tmp.diffDateTimeFormats&&(a.tmp.sInputDateTimeRegex=a._createDateTimeRegex(a.tmp.sArrInputDateTimeFormat)),a.setSelectedDate(a.setting.selectedDate),a.parseDisableValues();var r=a.setting.dateTimeFormat.match(/(MMMM).*(dd|d).*(yyyy|YYYY)/);if(0<a.tmp.sArrDateTimeFormat.length)for(i=0;i<a.tmp.sArrDateTimeFormat.length;i++)n=a.tmp.sArrDateTimeFormat[i],-1!==n.search(/D|d|M|y|Y|H|h|m|s|A|a/,"g")&&a._setComponentAndDataSourceForFormat(n,{MMMMddYYYY:r});a.tmp.headerTitleDefined||!$.CF.compareStrings(a.setting.mode,"datetime")||$.CF.compareStrings(a.setting.theme,"iOS")||(a.setting.headerTitle.contentBehaviour="Dynamic","datetime"===a.tmp.sDateTimeMode?a._formatContains(a.tmp.sArrDateTimeFormat,["d","M","y|Y","h","m"],"and")&&a._formatContains(a.tmp.sArrDateTimeFormat,["a","A"],"or")?a.setting.headerTitle.format="dd.MM.yyyy, hh:mm "+a._getFormatForComponent("meridiem"):a._formatContains(a.tmp.sArrDateTimeFormat,["d","M","y|Y","H","m"],"and")?a.setting.headerTitle.format="dd.MM.yyyy, HH:mm":a.setting.headerTitle.format=a.setting.dateTimeFormat:"date"===a.tmp.sDateTimeMode?a._formatContains(a.tmp.sArrDateTimeFormat,["d","M","y|Y"],"and")?a.setting.headerTitle.format="DDD, MMM dd, yyyy":a.setting.headerTitle.format=a.setting.dateTimeFormat:"time"===a.tmp.sDateTimeMode&&(a._formatContains(a.tmp.sArrDateTimeFormat,["h","m"],"and")&&a._formatContains(a.tmp.sArrDateTimeFormat,["a","A"],"or")?a.setting.headerTitle.format="hh:mm "+a._getFormatForComponent("meridiem"):a._formatContains(a.tmp.sArrDateTimeFormat,["H","m","s"],"and")?a.setting.headerTitle.format="HH:mm:ss":a._formatContains(a.tmp.sArrDateTimeFormat,["H","m"],"and")?a.setting.headerTitle.format="HH:mm":a.setting.headerTitle.format=a.setting.dateTimeFormat)),$.CF.compareStrings(a.setting.headerTitle.contentBehaviour,"Dynamic")&&$.CF.isValid(a.setting.headerTitle.format)&&("function"==typeof a.setting.headerTitle.format?a.tmp.sHeaderTitleType="DynamicFunction":"string"==typeof a.setting.headerTitle.format&&(a.tmp.sHeaderTitleType="DynamicString",a.tmp.sArrHeaderTitleFormat=a._matchRegex($.AnyPicker.extra.sFormatRegex,a.setting.headerTitle.format)))},setSelectedDate:function(a){var i=this;if(!$.CF.isValid(a))i.tmp.selectedDate=new Date($.AnyPicker.extra.dToday);else if("string"==typeof a?i.tmp.selectedDate=i._parseInputDateTime(a):"[object Date]"===Object.prototype.toString.call(a)&&(i.setting.selectedDate=i.formatOutputDates(a),i.tmp.selectedDate=new Date(a)),null!==i.setting.inputElement){var n=$(i.setting.inputElement);i.tmp.oInputElemValid.bIsInput?n.val(i.setting.selectedDate):n.text(i.setting.selectedDate)}},setMinimumDate:function(a){var i=this;i.setting.minValue=a,i.parseDisableValues()},setMaximumDate:function(a){var i=this;i.setting.maxValue=a,i.parseDisableValues()},_getFormatForComponent:function(a){for(var o,i=this,n=0;n<i.tmp.numOfComp;n++)if(o=i.setting.components[n],o.name===a)return o.format},_formatContains:function(a,i,n){var o=this,s,r,m=[],l;for(s=0;s<i.length;s++){var p=i[s],d=!1;for(r=0;r<a.length;r++){var c=a[r];if($.CF.isValid(c)&&$.CF.isValid(p)&&-1!==c.search(new RegExp(p),"")){d=!0;break}}m.push(d)}if("and"===n){for(l=!0,s=0;s<m.length;s++)if(!0!==m[s]){l=!1;break}}else if("or"===n)for(l=!1,s=0;s<m.length;s++)if(!0===m[s]){l=!0;break}return l},_setComponentAndDataSourceForFormat:function(a,i){var n=this,o={},s={},r=n._isSupportedFormat(a);r&&("d"===a||"dd"===a?(o.name="date",o.label=n.setting.i18n.componentLabels.date,o.type="date",$.CF.compareStrings(n.setting.theme,"iOS")&&i.MMMMddYYYY&&(o.width="24%",o.textAlign="right")):"DD"===a||"DDD"===a||"DDDD"===a?(o.name="day",o.label=n.setting.i18n.componentLabels.day,o.type="date"):"M"===a||"MM"===a||"MMM"===a||"MMMM"===a?(o.name="month",o.label=n.setting.i18n.componentLabels.month,o.type="date",$.CF.compareStrings(n.setting.theme,"iOS")&&i.MMMMddYYYY&&(o.width="46%",o.textAlign="left")):"y"===a||"Y"===a||"yyyy"===a||"Y"===a||"YYYY"===a?(o.name="year",o.label=n.setting.i18n.componentLabels.year,o.type="date",$.CF.compareStrings(n.setting.theme,"iOS")&&i.MMMMddYYYY&&(o.width="30%",o.textAlign="right")):"H"===a||"HH"===a||"h"===a||"hh"===a?(o.name="hours",o.label=n.setting.i18n.componentLabels.hours,o.type="time"):"m"===a||"mm"===a?(o.name="minutes",o.label=n.setting.i18n.componentLabels.minutes,o.type="time"):"s"===a||"ss"===a?(o.name="seconds",o.label=n.setting.i18n.componentLabels.seconds,o.type="time"):"aa"===a||"a"===a||"AA"===a||"A"===a?(o.name="meridiem",o.label=n.setting.i18n.componentLabels.meridiem,o.type="time"):console.log("Picker Component for "+a+" can noot be added because the format you specified as  "+a+"  cannot be parsed using this function. If you want to parse it, please add the condition in the _setComponentAndDataSourceForFormat function."),o.format=a,o.component=n.tmp.numOfComp,n.setting.components.push(o),s.component=o.component,s.data=n.__setDataSourceArrayForComponent(o.name,a),n.setting.dataSource.push(s),n.tmp.numOfComp++)},__setDataSourceArrayForComponent:function(a,i){var o,s,r,m,l,p,d,n=this,c=[],g=n.getDateObject(n.tmp.selectedDate),u=null,f=null;if($.CF.isValid(n.tmp.oMinMax.min)&&(u=n.getDateObject(n.tmp.oMinMax.min)),$.CF.isValid(n.tmp.oMinMax.max)&&(f=n.getDateObject(n.tmp.oMinMax.max)),"day"===a){if("DD"===i)for(s=0;s<$.AnyPicker.extra.en.veryShortDays.length;s++)c.push({val:s,label:n.setting.i18n.veryShortDays[s]});else if("DDD"===i)for(s=0;s<$.AnyPicker.extra.en.shortDays.length;s++)c.push({val:s,label:n.setting.i18n.shortDays[s]});else if("DDDD"===i)for(s=0;s<$.AnyPicker.extra.en.fullDays.length;s++)c.push({val:s,label:n.setting.i18n.fullDays[s]});}else if("date"===a)for(r=31,m=1,l=r,$.CF.isValid(u)&&$.CF.isValid(f)&&u.y===f.y&&u.M===f.M&&(m=u.d,l=f.d),s=m;s<=l;s++)"d"===i?o=0:"dd"==i&&(o=2),c.push({val:s,label:n.getNumberStringInFormat(s,o,!0)});else if("month"===a){if(m=1,l=12,$.CF.isValid(u)&&$.CF.isValid(f)&&u.y===f.y&&(m=u.M,l=f.M,("M"===i||"MM"===i)&&(m++,l++)),"M"===i||"MM"===i)for("M"===i?o=0:"MM"==i&&(o=2),s=m;s<=l;s++)c.push({val:s-1,label:n.getNumberStringInFormat(s,o,!0)});else if("MMM"===i)for(s=m;s<=l;s++)c.push({val:s-1,label:n.setting.i18n.shortMonths[s-1]});else if("MMMM"===i)for(s=m;s<=l;s++)c.push({val:s-1,label:n.setting.i18n.fullMonths[s-1]});}else if("year"===a)for(p=0===n.setting.maxRows?50:n.setting.maxRows,d=Math.floor(p/2),m=$.CF.isValid(u)?u.y:0==p%2?g.y-d-1:g.y-d,l=$.CF.isValid(f)?f.y:g.y+d,s=m;s<=l;s++)c.push({val:s,label:n.getNumberStringInFormat(s,0,!0)});else if("hours"===a){var S=[],h=0;if(!n.setting.roundOff)for(h=g.H;0<=h-n.setting.intervals.h;)h-=n.setting.intervals.h;for("h"===i||"hh"===i?(S=[12,1,2,3,4,5,6,7,8,9,10,11],h%=12,h=0===h?12:h,m=S.indexOf(h),l=11):("H"==i||"HH"==i)&&(m=h,l=23),"h"===i||"H"===i?o=0:("hh"==i||"HH"==i)&&(o=2),s=m;s<=l;s+=n.setting.intervals.h)"h"===i||"hh"===i?c.push({val:S[s],label:n.getNumberStringInFormat(S[s],o,!0)}):("H"===i||"HH"===i)&&c.push({val:s,label:n.getNumberStringInFormat(s,o,!0)})}else if("minutes"===a){var D=0;if(!n.setting.roundOff)for(D=g.m;0<=D-n.setting.intervals.m;)D-=n.setting.intervals.m;for("m"===i?o=0:"mm"==i&&(o=2),s=D;60>s;s+=n.setting.intervals.m)c.push({val:s,label:n.getNumberStringInFormat(s,o,!0)})}else if("seconds"===a){var T=0;if(!n.setting.roundOff)for(T=g.s;0<=T-n.setting.intervals.s;)T-=n.setting.intervals.s;for("s"===i?o=0:"ss"==i&&(o=2),s=T;60>s;s+=n.setting.intervals.s)c.push({val:s,label:n.getNumberStringInFormat(s,o,!0)})}else if("meridiem"===a)for(s=0;2>s;s++)c.push({val:s,label:n.setting.i18n.meridiem[i][s]});return c},_setDateTimeFormatComponentsArray:function(a){var o,i=this,n=i._matchRegex($.AnyPicker.extra.sFormatRegex,a),s="",r=[];for(o=0;o<n.length;o++){var m=n[o];m.match(/[a-zA-Z0-9]/)?(""!=s&&(r.push(s),s=""),r.push(m)):s+=m}return""!==s&&(r.push(s),s=""),r},_createDateTimeRegex:function(a){var n,o,p,i=this,s="";for(s+="(\\[[^\\[]*\\])|(\\\\)?",n=0;n<a.length;n++)o=a[n],s=i._getRegexComponentForFormat(s,o);return s+="|.",p=new RegExp(s,"g"),p},_getRegexComponentForFormat:function(a,i){var n=this;return"d"===i||"dd"===i?a+="(\\d{1,2})":"DD"===i?(a+="(",a+=n.setting.i18n.veryShortDays.join("|"),a+=")"):"DDD"===i?(a+="(",a+=n.setting.i18n.shortDays.join("|"),a+=")"):"DDDD"===i?(a+="(",a+=n.setting.i18n.fullDays.join("|"),a+=")"):"M"===i||"MM"===i?a+="(\\d{1,2})":"MMM"===i?(a+="(",a+=n.setting.i18n.shortMonths.join("|"),a+=")"):"MMMM"===i?(a+="(",a+=n.setting.i18n.fullMonths.join("|"),a+=")"):$.CF.compareStrings(i,"y")||$.CF.compareStrings(i,"yyyy")?a+="(\\d{1,4})":$.CF.compareStrings(i,"yy")?a+="(\\d{2})":$.CF.compareStrings(i,"h")||$.CF.compareStrings(i,"hh")?a+="(\\d{1,2})":"m"===i||"mm"===i?a+="(\\d{1,2})":"s"===i||"ss"===i?a+="(\\d{1,2})":"a"===i||"aa"===i||"A"===i||"AA"===i?(a+="(","a"===i?a+=n.setting.i18n.meridiem.a.join("|"):"aa"===i?a+=n.setting.i18n.meridiem.aa.join("|"):"A"===i?a+=n.setting.i18n.meridiem.A.join("|"):"AA"==i&&(a+=n.setting.i18n.meridiem.AA.join("|")),a+=")"):"/"===i||"-"===i||"."===i||" "===i||":"===i||","===i?a+="(/|-|.| |:|,)":a+="("+i+")",a},_matchRegex:function(a,i){for(var n=this,o=[],s=[];null!==(s=a.exec(i));){for(var r=3;r<s.length;r++)o.push(s[r]);s.index===a.lastIndex&&a.lastIndex++}return o},_parseInputDateTime:function(a){var i=this,n=null,o={},s,r,m,l,p,d;if("string"==typeof a){for(d=i.tmp.diffDateTimeFormats?i.tmp.sArrInputDateTimeFormat:i.tmp.sArrDateTimeFormat,p=i.tmp.diffDateTimeFormats?i.tmp.sInputDateTimeRegex:i.tmp.sDateTimeRegex,l=i._matchRegex(p,a),s=0;s<d.length;s++)r=d[s],m=l[s],-1!==r.search(/D|d|M|y|Y|H|h|m|s|A|a/,"")&&(o=i._setInputDateTimeValue(r,m,o));$.CF.isValid(o.h)&&(($.CF.compareStrings(o.me,"AM")||$.CF.compareStrings(o.sm,"A"))&&12===o.h?o.H=0:($.CF.compareStrings(o.me,"PM")||$.CF.compareStrings(o.sm,"P"))&&12>o.h?o.H=o.h+12:o.H=o.h),n=i.setDateInFormat({iDate:o},"")}else"[object Date]"===Object.prototype.toString.call(a)&&(n=new Date(a));return n},_setInputDateTimeValue:function(a,i,n){var o=this;if(o._isSupportedFormat(a))if("d"===a||"dd"===a)n.d=parseInt(i);else if("M"===a||"MM"===a)n.M=parseInt(i)-1;else if("MMM"===a)n.M=o.setting.i18n.shortMonths.indexOf(i);else if("MMMM"===a)n.M=o.setting.i18n.fullMonths.indexOf(i);else if($.CF.compareStrings(a,"yy")){n.y=parseInt(i);var s=o.setting.maxYear/100,r=o.setting.maxYear%100;n.y=n.y>r?100*(s-1)+n.y:100*s+n.y}else $.CF.compareStrings(a,"y")||$.CF.compareStrings(a,"yyyy")?n.y=parseInt(i):"H"===a||"HH"===a?n.H=parseInt(i):"h"===a||"hh"===a?n.h=parseInt(i):"m"===a||"mm"===a?n.m=parseInt(i):"s"===a||"ss"===a?n.s=parseInt(i):"a"===a||"A"===a?$.CF.isValid(i)&&(-1===i.search(/A/gi,"")?-1!==i.search(/P/gi,"")&&(n.me="P"):n.me="A"):("aa"===a||"AA"===a)&&$.CF.isValid(i)&&(-1===i.search(/AM/gi,"")?-1!==i.search(/PM/gi,"")&&(n.me="PM"):n.me="AM");return n},formatOutputDates:function(a,i){var n=this,o="",s,r,m,l;for(m=$.CF.isValid(i)?"string"==typeof i?n._setDateTimeFormatComponentsArray(i):"object"==typeof i?i:n.tmp.diffDateTimeFormats?n.tmp.sArrInputDateTimeFormat:n.tmp.sArrDateTimeFormat:n.tmp.diffDateTimeFormats?n.tmp.sArrInputDateTimeFormat:n.tmp.sArrDateTimeFormat,l=n.getDateObject(a),r=0;r<m.length;r++)if(s=m[r],"dd"===s)o+=n.getNumberStringInFormat(l.d,2,!0);else if("d"===s)o+=n.getNumberStringInFormat(l.d,0,!0);else if("DDDD"===s)o+=n.setting.i18n.fullDays[l.D];else if("DDD"===s)o+=n.setting.i18n.shortDays[l.D];else if("DD"===s)o+=n.setting.i18n.veryShortDays[l.D];else if("MMMM"===s)o+=n.setting.i18n.fullMonths[l.M];else if("MMM"===s)o+=n.setting.i18n.shortMonths[l.M];else if("MM"===s)o+=n.getNumberStringInFormat(l.M+1,2,!0);else if("M"===s)o+=n.getNumberStringInFormat(l.M+1,0,!0);else if($.CF.compareStrings(s,"yyyy"))o+=n.getNumberStringInFormat(l.y,4,!0);else if($.CF.compareStrings(s,"yy")){var p=10*(Math.floor(l.y/10)%10)+l.y%10;o+=n.getNumberStringInFormat(p,2,!0)}else o+=$.CF.compareStrings(s,"y")?n.getNumberStringInFormat(l.y,4,!0):"hh"===s?n.getNumberStringInFormat(l.h,2,!0):"h"===s?n.getNumberStringInFormat(l.h,0,!0):"HH"===s?n.getNumberStringInFormat(l.H,2,!0):"H"===s?n.getNumberStringInFormat(l.H,0,!0):"mm"===s?n.getNumberStringInFormat(l.m,2,!0):"m"===s?n.getNumberStringInFormat(l.m,0,!0):"ss"===s?n.getNumberStringInFormat(l.s,2,!0):"s"===s?n.getNumberStringInFormat(l.s,0,!0):"aa"===s?l.me:"a"===s?l.sm:"AA"===s?l.me.toUpperCase():"A"===s?l.sm.toUpperCase():s;return o},parseDisableValues:function(){var a=this;a.tmp.oMinMax={min:null,max:null},a.tmp.oArrPDisable={day:[],date:[],time:[],datetime:[]};var i,n,o;if($.CF.isValid(a.setting.minValue)){var s=a._parseInputDateTime(a.setting.minValue);$.CF.isValid(s)&&(a.tmp.oMinMax.min=s)}if($.CF.isValid(a.setting.maxValue)){var r=a._parseInputDateTime(a.setting.maxValue);$.CF.isValid(r)&&(a.tmp.oMinMax.max=r)}var m=!1;if($.CF.isValid(a.tmp.oMinMax.min)&&$.CF.isValid(a.tmp.oMinMax.max)?("date"===a.tmp.sDateTimeMode?!(1<=a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.min)&&-1>=a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.max))&&(m=!0):"time"===a.tmp.sDateTimeMode?!(1<=a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)&&-1>=a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.max))&&(m=!0):"datetime"===a.tmp.sDateTimeMode&&!(1<=a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)&&-1>=a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.max))&&(m=!0),m&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.min),a.tmp.selectedDate=new Date(a.tmp.oMinMax.min))):$.CF.isValid(a.tmp.oMinMax.min)?("date"===a.tmp.sDateTimeMode?-1>a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.min)&&(m=!0):"time"===a.tmp.sDateTimeMode?-1>a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)&&(m=!0):"datetime"===a.tmp.sDateTimeMode&&-1>a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)&&(m=!0),m&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.min),a.tmp.selectedDate=new Date(a.tmp.oMinMax.min))):$.CF.isValid(a.tmp.oMinMax.max)&&("date"===a.tmp.sDateTimeMode?1<a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.max)&&(m=!0):"time"===a.tmp.sDateTimeMode?1<a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)&&(m=!0):"datetime"===a.tmp.sDateTimeMode&&1<a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)&&(m=!0),m&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.max),a.tmp.selectedDate=new Date(a.tmp.oMinMax.max))),"date"===a.tmp.sDateTimeMode?a.tmp.oArrPDisable.date.push(a.tmp.oMinMax):"time"===a.tmp.sDateTimeMode?a.tmp.oArrPDisable.time.push({day:[],val:[a.tmp.oMinMax]}):"datetime"===a.tmp.sDateTimeMode&&a.tmp.oArrPDisable.datetime.push(a.tmp.oMinMax),$.CF.isValid(a.setting.disableValues)){if($.CF.isValid(a.setting.disableValues.day)&&0<a.setting.disableValues.day.length)for(i=0;i<a.setting.disableValues.day.length;i++)0<=a.setting.disableValues.day[i]&&6>=a.setting.disableValues.day[i]&&a.tmp.oArrPDisable.day.push(a.setting.disableValues.day[i]);if($.CF.isValid(a.setting.disableValues.date)&&0<a.setting.disableValues.date.length)for(i=0;i<a.setting.disableValues.date.length;i++){var l=a.setting.disableValues.date[i],p=null;if($.CF.isValid(l.val)){var d=a._parseInputDateTime(l.val);$.CF.isValid(d)&&(null==p&&(p={}),p.val=d)}if($.CF.isValid(l.start)){var c=a._parseInputDateTime(l.start);$.CF.isValid(c)&&(null===p&&(p={}),p.start=c)}if($.CF.isValid(l.end)){var g=a._parseInputDateTime(l.end);$.CF.isValid(g)&&(null===p&&(p={}),p.end=g)}$.CF.isValid(p)&&a.tmp.oArrPDisable.date.push(p)}if($.CF.isValid(a.setting.disableValues.time)&&0<a.setting.disableValues.time.length)for(n=0;n<a.setting.disableValues.time.length;n++){var u=a.setting.disableValues.time[n],f=$.CF.isValid(u.day)&&0<u.day.length,S=$.CF.isValid(u.val)&&0<u.val.length;if(S){var h=[];for(o=0;o<u.val.length;o++){var D=u.val[o],T=null;if($.CF.isValid(D.val)){var C=a._parseInputDateTime(D.val);$.CF.isValid(C)&&(null==T&&(T={}),T.val=D)}if($.CF.isValid(D.start)){var y=a._parseInputDateTime(D.start);$.CF.isValid(y)&&(null===T&&(T={}),T.start=y)}if($.CF.isValid(D.end)){var b=a._parseInputDateTime(D.end);$.CF.isValid(b)&&(null===T&&(T={}),T.end=b)}$.CF.isValid(T)&&h.push(T)}0<h.length&&a.tmp.oArrPDisable.time.push({day:f?u.day:[],val:h})}}if($.CF.isValid(a.setting.disableValues.datetime)&&0<a.setting.disableValues.datetime.length)for(n=0;n<a.setting.disableValues.datetime.length;n++){var F=a.setting.disableValues.datetime[n],v=null;if($.CF.isValid(F.val)){var _=a._parseInputDateTime(F.val);$.CF.isValid(_)&&(null==v&&(v={}),v.val=_)}if($.CF.isValid(F.start)){var M=a._parseInputDateTime(F.start);$.CF.isValid(M)&&(null===v&&(v={}),v.start=M)}if($.CF.isValid(F.end)){var w=a._parseInputDateTime(F.end);$.CF.isValid(w)&&(null===v&&(v={}),v.end=w)}$.CF.isValid(v)&&a.tmp.oArrPDisable.datetime.push(v)}}else console.log("Invalid value for AnyPicker plugin option disableValues")},__setSelectedDateTimeInComponent:function(){var a=this,i,n,o="",r=a.getDateObject(a.tmp.selectedDate);for(i=0;i<a.tmp.numOfComp;i++)n=a.setting.components[i],"date"===n.name?o=r.d:"day"===n.name?o=r.D:"month"===n.name?o=r.M:"year"===n.name?o=r.y:"hours"===n.name?"h"===n.format||"hh"===n.format?o=r.h:("H"===n.format||"HH"===n.format)&&(o=r.H):"minutes"===n.name?o=r.m:"seconds"===n.name?o=r.s:"meridiem"===n.name&&("a"===r.sm?o=0:"p"===r.sm&&(o=1)),a.__changeComponentValue(i,o)},__disableInvalidRowsOfDateTimePicker:function(){var a=this,i,n,o,m,l,p,d,c,g;if(1!==a.tmp.numOfComp)for(l=a.__getSelectedDate(!0)[1],i=0;i<a.setting.dataSource.length;i++){var u=a.setting.dataSource[i];for(n=0;n<u.data.length;n++){var f={d:1,M:0,y:0,H:0,h:0,m:0,s:0,sm:0};for(o=0;o<a.tmp.numOfComp;o++)o===i?(m=u.data[n].val,p=a.setting.components[o],d=p.name,c=p.format):(m=l[o],p=a.setting.components[o],d=p.name,c=p.format),"date"===d?f.d=parseInt(m):"month"===d?f.M=parseInt(m):"year"===d?f.y=parseInt(m):"hours"===d?"h"===c||"hh"===c?(f.h=parseInt(m),f.H=-1):("H"==c||"HH"==c)&&(f.H=parseInt(m)):"minutes"===d?f.m=parseInt(m):"seconds"===d?f.s=parseInt(m):"meridiem"==d&&(f.sm=parseInt(m));-1===f.H&&(f.H=1===f.sm?12===f.h?12:f.h+12:12===f.h?0:f.h);var S=a.setDateInFormat({iDate:f},""),h=a.__validateSelectedDate(S,!0,!1);h||$("#ap-component-"+i).find("#ap-row-"+i+"-"+n).addClass("ap-row-disabled ap-row-invalid")}}else if(p=a.setting.components[0],d=p.name,c=p.format,g=a.setting.dataSource[0].data,"day"===d)for(i=0;i<g.length;i++)for(n=0;n<a.tmp.oArrPDisable.day.length;n++)a.tmp.oArrPDisable.day[n]===g[n].val&&$(a.elem).find("#ap-row-0-"+i).addClass("ap-row-disabled ap-row-invalid")},__getSelectedDate:function(a){var n,o,s,r,m,i=this,l=i.getDateObject(i.tmp.selectedDate),p={},d=0,c=[];for(n=0;n<i.tmp.numOfComp;n++)o=i.setting.components[n],s=$(i.tmp.overlaySelector).find("#ap-component-"+n+" .ap-row-selected"),r=0<s.length?s[0]:null,m=parseInt($(r).data("value")),c.push(m),"date"===o.name?l.d=isNaN(m)?l.d:m:"day"===o.name?l.D=isNaN(m)?l.D:m:"month"===o.name?l.M=isNaN(m)?l.M:m:"year"===o.name?l.y=isNaN(m)?l.y:m:"hours"===o.name?"h"===o.format||"hh"===o.format?(l.h=isNaN(m)?l.h:m,l.H=-1):l.H=isNaN(m)?l.H:m:"minutes"===o.name?l.m=isNaN(m)?l.m:m:"seconds"===o.name?l.s=isNaN(m)?l.s:m:"meridiem"===o.name&&(d=isNaN(m)?"a"===l.sm?0:1:m);-1===l.H&&(l.H=1===d?12===l.h?12:l.h+12:12===l.h?0:l.h);var g=i._getNumberOfDaysOfMonth(l.M,l.y);return l.d>g&&(l.d=g),p=i.setDateInFormat({iDate:l},""),a?[p,c]:p},__validateSelectedDate:function(a,i,n){var o=this,s=o.getDateObject(a);if($.CF.isValid(o.tmp.oArrPDisable)){var r,m,g,u,f,S,h,l="datetime"===o.tmp.sDateTimeMode||"date"===o.tmp.sDateTimeMode,p="datetime"===o.tmp.sDateTimeMode||"time"===o.tmp.sDateTimeMode,d=!1,c=!0;if(!d&&l&&0<o.tmp.oArrPDisable.day.length){for(r=0;r<o.tmp.oArrPDisable.day.length;r++)if(o.tmp.oArrPDisable.day[r]===s.D){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(n,a,"day"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else;if(!d&&l&&0<o.tmp.oArrPDisable.date.length){for(r=0;r<o.tmp.oArrPDisable.date.length;r++)if(S=o.tmp.oArrPDisable.date[r],$.CF.isValid(S.val)){if(0===o.compareDates(a,S.val)){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(n,a,"date"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.start)&&$.CF.isValid(S.end)){if(0<=o.compareDates(a,S.start)&&0>=o.compareDates(a,S.end)){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(n,S.start,"date"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.start)){if(0<=o.compareDates(a,S.start)){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!0,S.start,"date"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.end)){if(0>=o.compareDates(a,S.end)){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!1,S.end,"date"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.min)&&$.CF.isValid(S.max)){if(g=0>o.compareDates(a,S.min),u=0<o.compareDates(a,S.max),f=!!g||!u,g||u){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(f,S.min,"date"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.min)){if(0>o.compareDates(a,S.min)){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!1,S.min,"date"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.max)&&0<o.compareDates(a,S.max)){0===o.compareDates(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!0,S.max,"date"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else;if(!d&&p&&0<o.tmp.oArrPDisable.time.length)for(r=0;r<o.tmp.oArrPDisable.time.length;r++){var D=o.tmp.oArrPDisable.time[r],T=!1;if($.CF.isValid(D.day)&&0<D.day.length)for(m=0;m<D.day.length&&(T=D.day[m]===s.D,!T);m++);else T=!0;if(T)for(m=0;m<D.val.length;m++)if(h=D.val[m],$.CF.isValid(h.val)){if(0===o.compareTimes(a,h.val)){0===o.compareTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(n,a,"time"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(h.start)&&$.CF.isValid(h.end)){if(0<=o.compareTimes(a,h.start)&&0>=o.compareTimes(a,h.end)){0===o.compareTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(n,h.start,"time"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(h.start)){if(0<=o.compareTimes(a,h.start)){0===o.compareTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!0,h.start,"time"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(h.end)){if(0>=o.compareTimes(a,h.end)){0===o.compareTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!1,h.end,"time"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(h.min)&&$.CF.isValid(h.max)){if(g=0>o.compareTimes(a,h.min),u=0<o.compareTimes(a,h.max),f=!!g||!u,g||u){0===o.compareTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(f,h.min,"time"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(h.min)){if(0>o.compareTimes(a,h.min)){0===o.compareTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!1,h.min,"time"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(h.max)&&0<o.compareTimes(a,h.max)){0===o.compareTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!0,h.max,"time"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else;if(!d&&p&&0<o.tmp.oArrPDisable.datetime.length){for(r=0;r<o.tmp.oArrPDisable.datetime.length;r++)if(S=o.tmp.oArrPDisable.datetime[r],$.CF.isValid(S.val)){if(0===o.compareDateTimes(a,S.val)){0===o.compareDateTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(n,a,"datetime"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.start)&&$.CF.isValid(S.end)){if(0<=o.compareDateTimes(a,S.start)&&0>=o.compareDateTimes(a,S.end)){0===o.compareDateTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(n,S.start,"datetime"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.start)){if(0<=o.compareDateTimes(a,S.start)){0===o.compareDateTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!0,S.start,"datetime"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.end)){if(0>=o.compareDateTimes(a,S.end)){0===o.compareDateTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!1,S.end,"datetime"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.min)&&$.CF.isValid(S.max)){if(g=0>o.compareDateTimes(a,S.min),u=0<o.compareDateTimes(a,S.max),f=!!g||!u,g||u){0===o.compareDateTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(f,S.min,"datetime"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.min)){if(0>o.compareDateTimes(a,S.min)){0===o.compareDateTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!1,S.min,"datetime"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else if($.CF.isValid(S.max)&&0<o.compareDateTimes(a,S.max)){0===o.compareDateTimes(a,o.tmp.selectedDate)?(d=!0,a=o._findValidSelectedDate(!0,S.max,"datetime"),o.tmp.selectedDate=new Date(a),o.__scrollToSelectedRow()):i?c=!1:o.__scrollToSelectedRow();break}}else;if(i)return c}else if(i)return!0},_findValidSelectedDate:function(a,i,n){var o=this;if("day"===n||"date"===n){$.CF.isValid(o.setting.minValue)&&0<=o.compareDates(o.setting.minValue,i)&&(i=new Date(o.setting.minValue),a=!1),$.CF.isValid(o.setting.maxValue)&&0>=o.compareDates(o.setting.maxValue,i)&&(i=new Date(o.setting.maxValue),a=!0);do if(i=a?new Date(i.getTime()-$.AnyPicker.extra.iMS.d):new Date(i.getTime()+$.AnyPicker.extra.iMS.d),o.__validateSelectedDate(i,!0,!1)&&(!$.CF.isValid(o.setting.minValue)||$.CF.isValid(o.setting.minValue)&&0>=o.compareDates(o.setting.minValue,i))&&(!$.CF.isValid(o.setting.maxValue)||$.CF.isValid(o.setting.maxValue)&&0<=o.compareDates(o.setting.maxValue,i)))return i;while((!$.CF.isValid(o.setting.minValue)||$.CF.isValid(o.setting.minValue)&&0>=o.compareDates(o.setting.minValue,i))&&(!$.CF.isValid(o.setting.maxValue)||$.CF.isValid(o.setting.maxValue)&&0<=o.compareDates(o.setting.maxValue,i)))}else if("time"===n){$.CF.isValid(o.setting.minValue)&&0<=o.compareTimes(o.setting.minValue,i)&&(i=new Date(o.setting.minValue),a=!1),$.CF.isValid(o.setting.maxValue)&&0>=o.compareTimes(o.setting.maxValue,i)&&(i=new Date(o.setting.maxValue),a=!0);do if(i=a?new Date(i.getTime()-$.AnyPicker.extra.iMS.m*o.setting.intervals.m):new Date(i.getTime()+$.AnyPicker.extra.iMS.m*o.setting.intervals.m),o.__validateSelectedDate(i,!0,!1)&&(!$.CF.isValid(o.setting.minValue)||$.CF.isValid(o.setting.minValue)&&0>=o.compareTimes(o.setting.minValue,i))&&(!$.CF.isValid(o.setting.maxValue)||$.CF.isValid(o.setting.maxValue)&&0<=o.compareTimes(o.setting.maxValue,i)))return i;while((!$.CF.isValid(o.setting.minValue)||$.CF.isValid(o.setting.minValue)&&0>=o.compareTimes(o.setting.minValue,i))&&(!$.CF.isValid(o.setting.maxValue)||$.CF.isValid(o.setting.maxValue)&&0<=o.compareTimes(o.setting.maxValue,i)))}else if("datetime"===n){$.CF.isValid(o.setting.minValue)&&0<=o.compareDateTimes(o.setting.minValue,i)&&(i=new Date(o.setting.minValue),a=!1),$.CF.isValid(o.setting.maxValue)&&0>=o.compareDateTimes(o.setting.maxValue,i)&&(i=new Date(o.setting.maxValue),a=!0);do if(i=a?new Date(i.getTime()-$.AnyPicker.extra.iMS.m*o.setting.intervals.m):new Date(i.getTime()+$.AnyPicker.extra.iMS.m*o.setting.intervals.m),o.__validateSelectedDate(i,!0,!1)&&(!$.CF.isValid(o.setting.minValue)||$.CF.isValid(o.setting.minValue)&&0>=o.compareDateTimes(o.setting.minValue,i))&&(!$.CF.isValid(o.setting.maxValue)||$.CF.isValid(o.setting.maxValue)&&0<=o.compareDateTimes(o.setting.maxValue,i)))return i;while((!$.CF.isValid(o.setting.minValue)||$.CF.isValid(o.setting.minValue)&&0>=o.compareDateTimes(o.setting.minValue,i))&&(!$.CF.isValid(o.setting.maxValue)||$.CF.isValid(o.setting.maxValue)&&0<=o.compareDateTimes(o.setting.maxValue,i)))}return $.CF.isValid(o.setting.minValue)?o.setting.minValue:void 0},__setDaysOfMonthInDatePicker:function(){var a=this,i,n,o=null,s=null;for(i=0;i<a.tmp.numOfComp;i++)n=a.setting.components[i],"date"===n.name&&(o=n.component,s=n.format);if(null!==o){var r=a.getDateObject(a.tmp.selectedDate),m=a._getNumberOfDaysOfMonth(r.M,r.y),l=!1;for(i=m+1;31>=i;i++){var p=$("#ap-component-"+o).find("#ap-row-"+o+"-"+(i-1));p.addClass("ap-row-disabled ap-row-hidden"),l||(l=!("true"!==p.attr("aria-selected")))}if(l){var d=new Date(r.y,r.M,m,r.H,r.m,r.s,r.ms);a.__validateSelectedDate(d,!1,!0),a.__scrollToSelectedRow()}}},setDateInFormat:function(a,i){var n=this;void 0===a.date&&void 0===a.iDate&&(a.date=n._getCurrentDate()),a.iDate=void 0===a.iDate?{d:a.date.getDate(),M:a.date.getMonth(),y:a.date.getFullYear(),H:a.date.getHours(),m:a.date.getMinutes(),s:a.date.getSeconds(),ms:a.date.getMilliseconds()}:{d:void 0===a.iDate.d?1:a.iDate.d,M:void 0===a.iDate.M?$.AnyPicker.extra.dToday.getMonth():a.iDate.M,y:void 0===a.iDate.y?$.AnyPicker.extra.dToday.getFullYear():a.iDate.y,H:void 0===a.iDate.H?0:a.iDate.H,m:void 0===a.iDate.m?0:a.iDate.m,s:void 0===a.iDate.s?0:a.iDate.s,ms:void 0===a.iDate.ms?0:a.iDate.ms};var o;return $.CF.isValid(i)?"START"===i?o=new Date(a.iDate.y,a.iDate.M,a.iDate.d,0,0,0,0):"END"==i&&(o=new Date(a.iDate.y,a.iDate.M,a.iDate.d,23,59,59,999)):o=new Date(a.iDate.y,a.iDate.M,a.iDate.d,a.iDate.H,a.iDate.m,a.iDate.s,a.iDate.ms),o},_getCurrentDate:function(){var a=this,i=a.getDateByAddingOutputTZOffset(a.convertToUTC(new Date),a.setting.tzOffset);return i},convertToUTC:function(a,i){var n=this;return new Date(a.getTime()-(i===void 0||""===i||null===i?-(a.getTimezoneOffset()*$.AnyPicker.extra.iMS.m):n._getTZOffsetInMS(i)))},_getTZOffsetInMS:function(a){var i=this,n=0;if(a===void 0||""===a||null===a)n=-($.AnyPicker.extra.dToday.getTimezoneOffset()*$.AnyPicker.extra.iMS.m);else{var o=i._matchRegex(/^([+|-]{1})([0-1]{0,1}[0-9]{1}):([0-6]{0,1}[0-9]{1})$/,a);n=parseInt(o[2])*$.AnyPicker.extra.iMS.h+parseInt(o[3])*$.AnyPicker.extra.iMS.m,n="+"===o[1]?n:-n}return n},getDateByAddingOutputTZOffset:function(a,i){var n=this;return new Date(a.getTime()+n._getTZOffsetInMS(i))},normalizeDateTimeWithOffset:function(a,i,n){var o=this;return o.getDateByAddingOutputTZOffset(o.convertToUTC(a,i),n)},_getNumberOfDaysOfMonth:function(a,i){var n=this;return 0==i%4?[31,29,31,30,31,30,31,31,30,31,30,31][a]:[31,28,31,30,31,30,31,31,30,31,30,31][a]},_normalizeDateTime:function(a,i,n){var s,o=this,r={d:a.getDate(),M:a.getMonth(),y:a.getFullYear(),H:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};return"s"===n?"START"===i?s=new Date(r.y,r.M,r.d,r.H,r.m,0,0):"END"==i&&(s=new Date(r.y,r.M,r.d,r.H,r.m,59,999)):"m"===n?"START"===i?s=new Date(r.y,r.M,r.d,r.H,0,0,0):"END"==i&&(s=new Date(r.y,r.M,r.d,r.H,59,59,999)):"h"===n||"T"===n?"START"===i?s=new Date(r.y,r.M,r.d,0,0,0,0):"END"==i&&(s=new Date(r.y,r.M,r.d,23,59,59,999)):"d"===n||"dE"===n?"START"===i?s=new Date(r.y,r.M,1,0,0,0,0):"END"==i&&(s=new Date(r.y,r.M,o._getNumberOfDaysOfMonth(r.M,r.y),0,0,0,0)):"M"===n||"ME"===n||"y"===n||"yE"===n?"START"===i?s=new Date(r.y,0,1,0,0,0,0):"END"==i&&(s=new Date(r.y,11,o._getNumberOfDaysOfMonth(11,r.y),0,0,0,0)):void 0,("dE"===n||"ME"===n||"yE"===n)&&(s=o._normalizeDateTime(s,"END","T")),s},_getDifference:function(a,i,n){var s,o=this,r=i.getTime()-n.getTime();return"ms"===a?s=r:"s"===a?s=r/$.AnyPicker.extra.iMS.s:"m"===a?s=r/$.AnyPicker.extra.iMS.m:"h"===a?s=r/$.AnyPicker.extra.iMS.h:"d"===a?s=r/$.AnyPicker.extra.iMS.d:"M"===a?s=r/$.AnyPicker.extra.iMS.m:"y"==a&&(s=r/$.AnyPicker.extra.iMS.y),s},compareDates:function(a,i){var n=this;a=n._normalizeDateTime(a,"START","T"),i=n._normalizeDateTime(i,"START","T");var o=n._getDifference("d",a,i);return 0===o?o:o/Math.abs(o)},compareDateTimes:function(a,i){var n=this,o=n._getDifference("m",a,i);return 0===o?o:o/Math.abs(o)},compareTimes:function(a,i){var n=this,o=new Date($.AnyPicker.extra.dToday),s=new Date($.AnyPicker.extra.dToday);return o.setHours(a.getHours()),o.setMinutes(a.getMinutes()),o.setSeconds(a.getSeconds()),s.setHours(i.getHours()),s.setMinutes(i.getMinutes()),s.setSeconds(i.getSeconds()),n.compareDateTimes(o,s)},getNumberStringInFormat:function(a,i,n){var o=this,s,r="",m=a.toString(),l=m.length;if(0!==i)for(s=0;s<i-l;s++)r+=n?o.setting.i18n.numbers[0]:"0";if(!n)r+=m;else for(s=0;s<l;s++)r+=o.setting.i18n.numbers[parseInt(m.charAt(s))];return r},getDateObject:function(a){var i=this,n={D:a.getDay(),d:a.getDate(),M:a.getMonth(),y:a.getFullYear(),H:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),ms:a.getMilliseconds()};return n.h=12<n.H?n.H-12:0===n.H?12:n.H,n.me=12>n.H?"am":"pm",n.sm=12>n.H?"a":"p",n}})})();