const btnSetTime=document.getElementById("btnSetTime"),btnClearTime=document.getElementById("btnClearTime"),dialogSetTime=document.getElementById("setTimeDialog"),txtH=document.getElementById("txtH"),txtM=document.getElementById("txtM"),txtS=document.getElementById("txtS"),btnUpS=document.getElementById("btnUpS"),btnUpM=document.getElementById("btnUpM"),btnUpH=document.getElementById("btnUpH"),btnDownS=document.getElementById("btnDownS"),btnDownM=document.getElementById("btnDownM"),btnDownH=document.getElementById("btnDownH");let btnUpSPressed=!1,btnDownSPressed=!1,btnUpMPressed=!1,btnDownMPressed=!1,btnUpHPressed=!1,btnDownHPressed=!1,hasCustomChange=!1,chosenInputText="",i=0,j=0,k=0,timeOutS=0,timeOutM=0,timeOutH=0;dialogSetTime.showModal||dialogPolyfill.registerDialog(dialogSetTime),btnSetTime.addEventListener("click",function(){document.getElementById(`${chosenInputText}`).parentElement.MaterialTextfield.change(`${txtH.value}:${txtM.value}:${txtS.value}`),hasCustomChange=!0,dialogSetTime.close()}),btnClearTime.addEventListener("click",function(){setTimeControls("00","00","00"),clearIntervals(),enableButtons(!1)}),dialogSetTime.querySelector(".close").addEventListener("click",function(){clearIntervals(),dialogSetTime.close()}),btnUpS.addEventListener("mousedown",btnUpSContinuesPress),btnUpS.addEventListener("touchstart",btnUpSContinuesPress),btnUpS.addEventListener("mouseup",btnSReleased),btnUpS.addEventListener("mouseleave",btnSReleased),btnUpS.addEventListener("touchend",btnSReleased),btnUpS.addEventListener("click",btnUpSClick),btnUpM.addEventListener("mousedown",btnUpMContinuesPress),btnUpM.addEventListener("touchstart",btnUpMContinuesPress),btnUpM.addEventListener("mouseup",btnMReleased),btnUpM.addEventListener("mouseleave",btnMReleased),btnUpM.addEventListener("touchend",btnMReleased),btnUpM.addEventListener("click",btnUpMClick),btnUpH.addEventListener("mousedown",btnUpHContinuesPress),btnUpH.addEventListener("touchstart",btnUpHContinuesPress),btnUpH.addEventListener("mouseup",btnHReleased),btnUpH.addEventListener("mouseleave",btnHReleased),btnUpH.addEventListener("touchend",btnHReleased),btnUpH.addEventListener("click",btnUpHClick),btnDownS.addEventListener("mousedown",btnDownSContinuesPress),btnDownS.addEventListener("touchstart",btnDownSContinuesPress),btnDownS.addEventListener("mouseup",btnSReleased),btnDownS.addEventListener("mouseleave",btnSReleased),btnDownS.addEventListener("touchend",btnSReleased),btnDownS.addEventListener("click",btnDownSClick),btnDownM.addEventListener("mousedown",btnDownMContinuesPress),btnDownM.addEventListener("touchstart",btnDownMContinuesPress),btnDownM.addEventListener("mouseup",btnMReleased),btnDownM.addEventListener("mouseleave",btnMReleased),btnDownM.addEventListener("touchend",btnMReleased),btnDownM.addEventListener("click",btnDownMClick),btnDownH.addEventListener("mousedown",btnDownHContinuesPress),btnDownH.addEventListener("touchstart",btnDownHContinuesPress),btnDownH.addEventListener("mouseup",btnHReleased),btnDownH.addEventListener("mouseleave",btnHReleased),btnDownH.addEventListener("touchend",btnHReleased),btnDownH.addEventListener("click",btnDownHClick);function timeDialogInvert(a){1===a?(setInvFilter(dialogSetTime,invert100),setBgd(dialogSetTime,bgColors[2])):(setInvFilter(dialogSetTime,invert0),setBgd(dialogSetTime,bgColors[0]))}function btnUpSContinuesPress(){btnUpSPressed||(btnUpSPressed=!0,0<parseInt(txtS.value)&&(i=parseInt(txtS.value)),timeOutS=setInterval(function(){if(i++,60>i)txtS.value=`${10>i?"0":""}${i}`;else{i=0;let a=parseInt(txtM.value)+1;if(60>a)txtM.value=`${10>a?"0":""}${a}`,txtS.value=i;else{let a=parseInt(txtH.value)+1;100===a?(setTimeControls("99","59","59"),enableButtons(!0),btnSReleased()):(txtM.value=0,txtH.value=`${10>a?"0":""}${a}`)}}},100))}function btnUpSClick(){if(!btnUpSPressed)if(btnUpSPressed=!0,0<parseInt(txtS.value)&&(i=parseInt(txtS.value)),i++,60>i)txtS.value=`${10>i?"0":""}${i}`;else{i=0;let a=parseInt(txtM.value)+1;if(60>a)txtM.value=`${10>a?"0":""}${a}`,txtS.value=i;else{let a=parseInt(txtH.value)+1;100===a?(setTimeControls("99","59","59"),enableButtons(!0),btnSReleased()):(txtM.value=0,txtH.value=`${10>a?"0":""}${a}`)}}}function btnDownSContinuesPress(){console.log("continues");btnDownSPressed||(btnDownSPressed=!0,enableButtons(!1),0<parseInt(txtS.value)&&(i=parseInt(txtS.value)),timeOutS=setInterval(function(){i--,0<=i?txtS.value=`${10>i?"0":""}${i}`:btnSReleased()},100))}function btnDownSClick(){console.log("click");btnDownSPressed||(btnDownSPressed=!0,enableButtons(!1),0<parseInt(txtS.value)&&(i=parseInt(txtS.value)),i--,0<=i?txtS.value=`${10>i?"0":""}${i}`:btnSReleased())}function btnSReleased(){btnDownSPressed=!1,btnUpSPressed=!1,i=0,clearInterval(timeOutS),timeOutS=0}function btnUpMContinuesPress(){btnUpMPressed||(btnUpMPressed=!0,0<parseInt(txtM.value)&&(j=parseInt(txtM.value)),timeOutM=setInterval(function(){if(j++,60>j)txtM.value=`${10>j?"0":""}${j}`;else{j=0;let a=parseInt(txtH.value)+1;100===a?(setTimeControls("99","59","59"),enableButtons(!0),btnMReleased()):(txtM.value=0,txtH.value=`${10>a?"0":""}${a}`)}},100))}function btnUpMClick(){if(!btnUpMPressed)if(btnUpMPressed=!0,0<parseInt(txtM.value)&&(j=parseInt(txtM.value)),j++,60>j)txtM.value=`${10>j?"0":""}${j}`;else{j=0;let a=parseInt(txtH.value)+1;100===a?(setTimeControls("99","59","59"),enableButtons(!0),btnMReleased()):(txtM.value=0,txtH.value=`${10>a?"0":""}${a}`)}}function btnDownMContinuesPress(){btnDownMPressed||(btnDownMPressed=!0,enableButtons(!1),0<=parseInt(txtM.value)&&(j=parseInt(txtM.value)),timeOutM=setInterval(function(){j--,0<=j?txtM.value=`${10>j?"0":""}${j}`:btnMReleased()},100))}function btnDownMClick(){btnDownMPressed||(btnDownMPressed=!0,enableButtons(!1),0<parseInt(txtM.value)&&(j=parseInt(txtM.value)),j--,0<=j?txtM.value=`${10>j?"0":""}${j}`:btnMReleased())}function btnMReleased(){btnDownMPressed=!1,btnUpMPressed=!1,j=0,clearInterval(timeOutM),timeOutM=0}function btnUpHContinuesPress(){btnUpHPressed||(btnUpHPressed=!0,0<parseInt(txtH.value)&&(k=parseInt(txtH.value)),timeOutH=setInterval(function(){k++,100===k?(setTimeControls("99","59","59"),enableButtons(!0),btnHReleased()):txtH.value=`${10>k?"0":""}${k}`},100))}function btnUpHClick(){btnUpHPressed||(btnUpHPressed=!0,0<parseInt(txtH.value)&&(k=parseInt(txtH.value)),k++,100===k?(setTimeControls("99","59","59"),enableButtons(!0),btnHReleased()):txtH.value=`${10>k?"0":""}${k}`)}function btnDownHContinuesPress(){btnDownHPressed||(btnDownHPressed=!0,enableButtons(!1),0<parseInt(txtH.value)&&(k=parseInt(txtH.value)),timeOutH=setInterval(function(){k--,0<=k?txtH.value=`${10>k?"0":""}${k}`:btnHReleased()},100))}function btnDownHClick(){btnDownHPressed||(btnDownHPressed=!0,enableButtons(!1),0<parseInt(txtH.value)&&(k=parseInt(txtH.value)),k--,0<=k?txtH.value=`${10>k?"0":""}${k}`:btnHReleased())}function btnHReleased(){btnDownHPressed=!1,btnUpHPressed=!1,k=0,clearInterval(timeOutH),timeOutH=0}function setTimeControls(a,b,c){txtH.value=a,txtM.value=b,txtS.value=c}function openSetDialog(a){let b=a.split(":");setTimeControls(b[0],b[1],b[2]),"99:59:59"===a&&enableButtons(!0)}function setNewTime(a,b){clearIntervals(),chosenInputText=a,"00:00:00"===b||""===b||b===void 0?(setTimeControls("00","00","00"),enableButtons(!1)):openSetDialog(b);try{dialogSetTime.showModal()}catch(a){console.log(a)}}function clearIntervals(){0!==timeOutS&&btnSReleased(),0!==timeOutM&&btnMReleased(),0!==timeOutH&&btnHReleased()}function enableButtons(a){btnUpS.disabled=a,btnUpM.disabled=a,btnUpH.disabled=a}